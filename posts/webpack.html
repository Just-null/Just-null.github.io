<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Webpack基础 | Just</title><meta name="keywords" content="Vue,webpack"><meta name="author" content="Just,3040705657@qq.com"><meta name="copyright" content="Just"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="什么是Webpack 官方解释：At its core, webpack is a static module bundler for modern JavaScript applications.  从本质上来讲，webpack是一个现代的JavaScript应用的静态模块打包工具   而webpack其中一个核心就是让我们可能进行模块化开发，并且会帮助我们处理模块间的依赖关系。而且不仅仅是Ja"><meta property="og:type" content="article"><meta property="og:title" content="Webpack基础"><meta property="og:url" content="https://blog.just-null.cn/posts/webpack.html"><meta property="og:site_name" content="Just"><meta property="og:description" content="什么是Webpack 官方解释：At its core, webpack is a static module bundler for modern JavaScript applications.  从本质上来讲，webpack是一个现代的JavaScript应用的静态模块打包工具   而webpack其中一个核心就是让我们可能进行模块化开发，并且会帮助我们处理模块间的依赖关系。而且不仅仅是Ja"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/webapck.jpg"><meta property="article:published_time" content="2021-02-04T05:02:40.000Z"><meta property="article:modified_time" content="2021-02-05T05:19:23.000Z"><meta property="article:author" content="Just"><meta property="article:tag" content="Vue"><meta property="article:tag" content="webpack"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/webapck.jpg"><link rel="shortcut icon" href="/img/favicon.jpg"><link rel="canonical" href="https://blog.just-null.cn/posts/webpack"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//hm.baidu.com"><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="2JkD1Tl7FTjV415YIPG25-ktxtdeXCZXVqru84Uixy4"><meta name="baidu-site-verification" content="code-pbcZ2zak1a"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?e7ddaae93d4f07241048bb32e32f85d8";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简"},noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:{limitCount:2e3,languages:{author:"作者: Just",link:"链接: ",source:"来源: Just",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},lightbox:"fancybox",Snackbar:void 0,source:{jQuery:"https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js",justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js",css:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css"},fancybox:{js:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js",css:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"}},isPhotoFigcaption:!0,islazyload:!0,isanchor:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2021-02-05 13:19:23"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"))})(window)</script><link rel="stylesheet" href="/Just/Just.css"><script src="/Just/rgbaster.min.js"></script><script src="/Just/Just.js"></script><style>.app-refresh{position:fixed;top:-2.2rem;left:0;right:0;z-index:99999;padding:0 1rem;font-size:15px;height:2.2rem;transition:all .3s ease}.app-refresh-wrap{display:flex;color:#fff;height:100%;align-items:center;justify-content:center}.app-refresh-wrap a{color:#fff;text-decoration:underline;cursor:pointer}</style><meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="Just" type="application/atom+xml"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" data-lazy-src="/img/avatar.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">164</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">125</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">102</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-book"></i> <span>文库</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>文章标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>文章分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-link"></i> <span>网站</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/contact/"><i class="fa-fw far fa-comments"></i> <span>留言板</span></a></li><li><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友情链接</span></a></li><li><a class="site-page" href="/utils/"><i class="fa-fw fas fa-tools"></i> <span>在线工具</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><div id="blog_name"><a id="site-name" href="/">Just</a></div><div id="page-name"><a id="page-name-text" href="https://blog.just-null.cn/posts/webpack.html">Webpack基础</a></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-book"></i> <span>文库</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>文章标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>文章分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-link"></i> <span>网站</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/contact/"><i class="fa-fw far fa-comments"></i> <span>留言板</span></a></li><li><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友情链接</span></a></li><li><a class="site-page" href="/utils/"><i class="fa-fw fas fa-tools"></i> <span>在线工具</span></a></li></ul></div></div></div><div id="nav-right"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div id="darkmode_navswitch"><a class="site-page darkmode_switchbutton" title="模式切换"><i class="fas fa-adjust"></i></a></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div class="coverdiv oaded" id="coverdiv"><img class="entered loading" id="post-cover" src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/webapck.jpg" alt="cover" onerror='this.onerror=null,this.src="/img/404.jpg"'></div><div id="post-info"><h1 class="post-title">Webpack基础</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-02-04T05:02:40.000Z" title="发表于 2021-02-04 13:02:40">2021-02-04</time><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-02-05T05:19:23.000Z" title="更新于 2021-02-05 13:19:23">2021-02-05</time></span><span class="post-meta-categories"><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/webpack/">webpack</a></span></div><div class="meta-secondline"><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>20分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><script>window.onload=coverColor()</script><main class="layout" id="content-inner"><div id="post"><div id="article-all"><article class="post-content" id="article-container"><h1 id="什么是Webpack"><a href="#什么是Webpack" class="headerlink" title="什么是Webpack"></a>什么是<code>Webpack</code></h1><div class="note info no-icon flat"><ul><li><p>官方解释：At its core, <code>webpack</code> is a static module bundler for modern JavaScript applications.</p></li><li><p>从<emp>本质上来讲</emp>，<code>webpack</code>是一个现代的JavaScript应用的静态模块打包工具</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205160623412.png" alt="webpack"></p></li><li><p>而<code>webpack</code>其中一个核心就是让我们可能进行模块化开发，并且会帮助我们处理模块间的依赖关系。而且不仅仅是<code>JavaScript</code>文件，<code>CSS</code>、<code>图片</code>、<code>json</code>文件等等在<code>webpack</code>中都可以被当做模块来使用</p></li><li><font color="red">打包</font>如何理解呢？<ul><li>理解了<code>webpack</code>可以帮助我们进行模块化，并且处理模块间的各种复杂关系后，打包的概念就非常好理解了</li><li>就是将<code>webpack</code>中的各种资源模块进行打包合并成一个或多个包(Bundle)。<br>并且在打包的过程中，还可以对资源进行处理，比如压缩图片，将<code>scss</code>转成<code>css</code>，将<code>ES6</code>语法转成<code>ES5</code>语法，将<code>TypeScript</code>转成<code>JavaScript</code>等等操作</li></ul></li></ul></div><h1 id="Webpack和grunt-gulp的对比"><a href="#Webpack和grunt-gulp的对比" class="headerlink" title="Webpack和grunt/gulp的对比"></a><code>Webpack</code>和<code>grunt/gulp</code>的对比</h1><div class="note info no-icon flat"><ul><li><p><code>grunt/gulp</code>的核心是<code>Task</code></p><ul><li>可以配置一系列的task，并且定义<code>task</code>要处理的事务（例如<code>ES6</code>、<code>ts</code>转化，图片压缩，<code>scss</code>转成<code>css</code>）</li><li>之后让<code>grunt/gulp</code>来依次执行这些<code>task</code>，而且让整个流程自动化。</li><li>所以<code>grunt/gulp</code>也被称为前端自动化任务管理工具。</li></ul></li><li><p>什么时候用<code>grunt/gulp</code>呢？</p><ul><li>如果工程模块依赖非常简单，甚至是没有用到模块化的概念</li><li>只需要进行简单的合并、压缩，就使用<code>grunt/gulp</code>即可</li><li>但是如果整个项目使用了模块化管理，而且相互依赖非常强，就可以使用更加强大的<code>webpack</code>了</li></ul></li><li><p>grunt/gulp和webpack有什么不同呢？</p><ul><li><code>grunt/gulp</code>更加强调的是前端流程的自动化，模块化不是它的核心</li><li><code>webpack</code>更加强调模块化开发管理，而文件压缩合并、预处理等功能，是他附带的功能</li></ul></li></ul></div><h1 id="webpack安装"><a href="#webpack安装" class="headerlink" title="webpack安装"></a><code>webpack</code>安装</h1><div class="note info no-icon flat"><ul><li><p>安装<code>webpack</code>首先需要安装Node.js，Node.js自带了软件包管理工具npm,Node.js安装教程请见</p></li><li><p>查看node版本<code>node -v</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210204205009817.png" alt="node版本"></p></li><li><p>全局安装webpack<code>npm install webpack -g</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210204205744379.png" alt="全局安装webpack"></p></li><li><p>webpack4.0以上版本的webpack的脚手架webpack-cli已经被被分离出来了，需要另外安装,命令<code>npm install webpack-cli -g</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210204213748323.png" alt="webpack的脚手架"></p></li></ul></div><h1 id="webpack起步"><a href="#webpack起步" class="headerlink" title="webpack起步"></a><code>webpack</code>起步</h1><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>创建如下文件和文件夹</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210204211056115.png" alt="创建文件和文件夹"></p><p>文件和文件夹解析</p><div class="note info no-icon flat"><ul><li>dist文件夹：用于存放之后打包的文件</li><li><p>src文件夹：用于存放我们写的源文件</p><ul><li>main.js：项目的入口文件。具体内容查看下面详情</li><li>mathUtils.js：定义了一些数学工具函数，可以在其他地方引用，并且使用。具体内容查看下面的详情</li></ul></li><li><p>index.html：浏览器打开展示的首页html</p></li></ul></div><p>mathUtils.js文件中的代码</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">num1,num2</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mul</span>(<span class="params">num1,num2</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 * num2</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//导出</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  add,</span><br><span class="line">  mul</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>main.js文件中的代码</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> math = <span class="built_in">require</span>(<span class="string">&#x27;./mainUtils&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(math.add(<span class="number">20</span>,<span class="number">30</span>))</span><br><span class="line"><span class="built_in">console</span>.log(math.mul(<span class="number">20</span>,<span class="number">30</span>))</span><br></pre></td></tr></table></figure><h2 id="js文件的打包"><a href="#js文件的打包" class="headerlink" title="js文件的打包"></a>js文件的打包</h2><div class="note info no-icon flat"><ul><li><p>现在的js文件中使用了模块化的方式进行开发，他们不可以直接使用</p><ul><li>因为如果直接在index.html引入这两个js文件，浏览器并不识别其中的模块化代码</li><li>另外，在真实项目中当有许多这样的js文件时，一个个引用非常麻烦，并且后期非常不方便对它们进行管理。</li></ul></li><li><p>使用<code>webpack</code>工具，对多个js文件进行打包</p><ul><li><code>webpack</code>就是一个模块化的打包工具，所以它支持代码中写模块化，可以对模块化的代码进行处理。</li><li>另外，如果在处理完所有模块之间的关系后，将多个js打包到一个js文件中，引入时就变得非常方便了</li></ul></li><li><p><code>webpack</code>打包指令（适用于webpack4+）<code>webpack ./src/main.js -o ./dist --mode development</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210204214342939.png" alt="webpack打包"></p><ul><li>该命令执行成功后会在dist文件夹下生成main.js的文件</li></ul><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210204214532161.png" alt=""></p></li></ul></div><p>index.html文件</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--使用打包后的文件--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./dist/main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="浏览器测试"><a href="#浏览器测试" class="headerlink" title="浏览器测试"></a>浏览器测试</h2><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210204215249321.png" alt="测试"></p><h1 id="webpack的配置"><a href="#webpack的配置" class="headerlink" title="webpack的配置"></a><code>webpack</code>的配置</h1><h2 id="入口和出口"><a href="#入口和出口" class="headerlink" title="入口和出口"></a>入口和出口</h2><div class="note info no-icon flat"><ul><li><p>如果每次使用<code>webpack</code>的命令都需要写上入口和出口作为参数，就非常麻烦，可以将这两个参数写到配置中，在运行时，直接读取</p></li><li><p>创建一个webpack.config.js文件</p><ul><li><p>文件内容</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//入口：可以是字符串、数组、对象</span></span><br><span class="line">  entry:<span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">  <span class="comment">//出口：通常是一个对象，里面只扫包含两个属性，path和filename</span></span><br><span class="line">  output:&#123;</span><br><span class="line">    path: path.resolve(__dirname,<span class="string">&#x27;dist&#x27;</span>),<span class="comment">//动态获取绝对路径，path通常是一个绝对路径</span></span><br><span class="line">    filename:<span class="string">&#x27;main.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mode:<span class="string">&quot;development&quot;</span><span class="comment">//开发模式</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul></div><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>终端输入<code>webpack</code>进行打包</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205140846906.png" alt="打包"></p><h1 id="局部安装webpack"><a href="#局部安装webpack" class="headerlink" title="局部安装webpack"></a>局部安装webpack</h1><div class="note info no-icon flat"><ul><li><p>上述直接使用<code>webpack</code>打包时，使用的是全局安装的<code>webpack</code>包，不同项目使用的<code>webpack</code>的版本不一致，强行使用全局<code>webpack</code>可能会导致打包错误，这时就需要局部安装<code>webpack</code></p><ul><li><p>局部安装<code>webpack</code>：命令<code>npm install webpack --save-dev</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205141351072.png" alt="局部安装webpack"></p></li><li><p>局部安装<code>webpack-cli</code>：命令<code>npm install webpack-cli --save-dev</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205141450483.png" alt="局部安装webpack-cli"></p></li></ul></li></ul></div><h2 id="使用局部安装的webpack进行打包"><a href="#使用局部安装的webpack进行打包" class="headerlink" title="使用局部安装的webpack进行打包"></a>使用局部安装的<code>webpack</code>进行打包</h2><p>命令：<code>./node_modules/.bin/webpack</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205142736578.png" alt="使用局部安装的webpack进行打包"></p><h1 id="package-json中定义启动"><a href="#package-json中定义启动" class="headerlink" title="package.json中定义启动"></a>package.json中定义启动</h1><div class="note info no-icon flat"><ul><li><p>在package.json的scripts中定义自己的执行脚本</p></li><li><p>通过<code>npm init</code>命令生成文件</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205135806691.png" alt=""></p></li><li><p>package.json中的scripts的脚本在执行时，会按照一定的顺序寻找命令对应的位置,首先，会寻找本地的node_modules/.bin路径中对应的命令,如果没有找到，会去全局的环境变量中寻找</p></li></ul></div><h2 id="package-json文件内容"><a href="#package-json文件内容" class="headerlink" title="package.json文件内容"></a>package.json文件内容</h2><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;testwebpack&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;description&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;main&quot;</span>: <span class="string">&quot;webpack.config.js&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;test&quot;</span>: <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;build&quot;</span>: <span class="string">&quot;webpack&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;license&quot;</span>: <span class="string">&quot;ISC&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;webpack&quot;</span>: <span class="string">&quot;^5.20.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;webpack-cli&quot;</span>: <span class="string">&quot;^4.5.0&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试-1"><a href="#测试-1" class="headerlink" title="测试"></a>测试</h2><p>输入<code>npm run build</code>命令</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205142332175.png" alt="命令解释"></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205142851525.png" alt="npm run build"></p><h1 id="css-loader的使用"><a href="#css-loader的使用" class="headerlink" title="css-loader的使用"></a>css-loader的使用</h1><div class="note info no-icon flat"><ul><li>loader是webpack中一个非常核心的概念</li><li>在之前的实例中，主要是用<code>webpack</code>来处理我们写的js代码，并且<code>webpack</code>会自动处理js之间相关的依赖,但是，在开发中不仅仅有基本的js代码处理，也需要加载css、图片，也包括一些高级的将ES6转成ES5代码，将TypeScript转成ES5代码，将scss、less转成css，将.jsx、.vue文件转成js文件等等，对于<code>webpack</code>本身的能力来说，对于这些转化是不支持的，但是给<code>webpack</code>扩展对应的loader就可以了</li><li>loader使用过程：<ul><li>步骤一：通过npm安装需要使用的loader</li><li>步骤二：在webpack.config.js中的modules关键字下进行配置</li></ul></li></ul></div><h2 id="css文件处理"><a href="#css文件处理" class="headerlink" title="css文件处理"></a>css文件处理</h2><h3 id="准备工作-1"><a href="#准备工作-1" class="headerlink" title="准备工作"></a>准备工作</h3><div class="note info no-icon flat"><ul><li><p>项目开发过程中，必然需要添加很多的样式，而样式我们往往写到一个单独的文件中</p></li><li><p>在src目录中，创建一个css文件，其中创建一个normal.css文件</p></li><li><p>也可以重新组织文件的目录结构，将零散的js文件放在一个js文件夹中</p></li><li><p>normal.css文件内容</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>在入口文件中引用</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> math = <span class="built_in">require</span>(<span class="string">&#x27;./mainUtils&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(math.add(<span class="number">20</span>,<span class="number">30</span>))</span><br><span class="line"><span class="built_in">console</span>.log(math.mul(<span class="number">20</span>,<span class="number">30</span>))</span><br><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;./css/normal.css&#x27;</span>)</span><br></pre></td></tr></table></figure></li></ul></div><h3 id="安装css-loader"><a href="#安装css-loader" class="headerlink" title="安装css-loader"></a>安装css-loader</h3><p>命令：<code>npm install --save-dev css-loader</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205150603262.png" alt="安装css-loader"></p><h3 id="安装style-loader"><a href="#安装style-loader" class="headerlink" title="安装style-loader"></a>安装style-loader</h3><p>命令：<code>npm install --save-dev style-loader</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205150627097.png" alt="安装style-loader"></p><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>webpack.config.js的配置如下</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//入口：可以是字符串、数组、对象</span></span><br><span class="line">  entry:<span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">  <span class="comment">//出口：通常是一个对象，里面只扫包含两个属性，path和filename</span></span><br><span class="line">  output:&#123;</span><br><span class="line">    path: path.resolve(__dirname,<span class="string">&#x27;dist&#x27;</span>),<span class="comment">//动态获取绝对路径，path通常是一个绝对路径</span></span><br><span class="line">    filename:<span class="string">&#x27;main.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mode:<span class="string">&quot;development&quot;</span>,<span class="comment">//开发模式，</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="comment">// [style-loader](/loaders/style-loader)</span></span><br><span class="line">          &#123; <span class="attr">loader</span>: <span class="string">&#x27;style-loader&#x27;</span> &#125;,</span><br><span class="line">          <span class="comment">// [css-loader](/loaders/css-loader)</span></span><br><span class="line">            <span class="comment">//css-loader只负责加载</span></span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              modules: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="tip warring"><p>style-loader必须放在css-loader之前，css-loader只负责加载</p></div><h3 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h3><p>输入<code>npm run build</code> 命令进行打包</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205150753959.png" alt="打包"></p><h3 id="测试-2"><a href="#测试-2" class="headerlink" title="测试"></a>测试</h3><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205150827771.png" alt="测试"></p><h1 id="less-loader的使用"><a href="#less-loader的使用" class="headerlink" title="less-loader的使用"></a>less-loader的使用</h1><h2 id="less文件处理"><a href="#less文件处理" class="headerlink" title="less文件处理"></a>less文件处理</h2><h3 id="准备工作-2"><a href="#准备工作-2" class="headerlink" title="准备工作"></a>准备工作</h3><div class="note info no-icon flat"><ul><li><p>在src目录的css文件中，创建一个special.less文件</p></li><li><p>special.less文件内容</p><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@fontSize:</span><span class="number">50px</span>;</span><br><span class="line"><span class="variable">@fontColor:</span>orange;</span><br><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="variable">@fontSize</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">@fontColor</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>在入口文件中引用</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> math = <span class="built_in">require</span>(<span class="string">&#x27;./mainUtils&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(math.add(<span class="number">20</span>,<span class="number">30</span>))</span><br><span class="line"><span class="built_in">console</span>.log(math.mul(<span class="number">20</span>,<span class="number">30</span>))</span><br><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;../css/normal.css&#x27;</span>)</span><br><span class="line"><span class="comment">//依赖的less文件</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;../css/special.less&#x27;</span>)</span><br></pre></td></tr></table></figure></li></ul></div><h3 id="安装less-loader和less"><a href="#安装less-loader和less" class="headerlink" title="安装less-loader和less"></a>安装less-loader和less</h3><p>命令：<code>npm install --save-dev less-loader less</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205155841605.png" alt="安装less-loader和less"></p><h3 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h3><p>webpack.config.js的配置如下</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//入口：可以是字符串、数组、对象</span></span><br><span class="line">  entry:<span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">  <span class="comment">//出口：通常是一个对象，里面只扫包含两个属性，path和filename</span></span><br><span class="line">  output:&#123;</span><br><span class="line">    path: path.resolve(__dirname,<span class="string">&#x27;dist&#x27;</span>),<span class="comment">//动态获取绝对路径，path通常是一个绝对路径</span></span><br><span class="line">    filename:<span class="string">&#x27;main.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mode:<span class="string">&quot;development&quot;</span>,<span class="comment">//开发模式，</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="comment">// [style-loader](/loaders/style-loader)</span></span><br><span class="line">          &#123; <span class="attr">loader</span>: <span class="string">&#x27;style-loader&#x27;</span> &#125;,</span><br><span class="line">          <span class="comment">// [css-loader](/loaders/css-loader)</span></span><br><span class="line">            <span class="comment">//css-loader只负责加载</span></span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              modules: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="comment">// [style-loader](/loaders/style-loader)</span></span><br><span class="line">          &#123; <span class="attr">loader</span>: <span class="string">&#x27;style-loader&#x27;</span> &#125;,</span><br><span class="line">          <span class="comment">// [css-loader](/loaders/css-loader)</span></span><br><span class="line">          <span class="comment">//css-loader只负责加载</span></span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              modules: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123; <span class="attr">loader</span>: <span class="string">&#x27;less-loader&#x27;</span> &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="打包-1"><a href="#打包-1" class="headerlink" title="打包"></a>打包</h3><p>输入<code>npm run build</code> 命令进行打包</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205160205774.png" alt="打包"></p><h3 id="测试-3"><a href="#测试-3" class="headerlink" title="测试"></a>测试</h3><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205160242663.png" alt="测试"></p><h1 id="图片文件的使用"><a href="#图片文件的使用" class="headerlink" title="图片文件的使用"></a>图片文件的使用</h1><h2 id="图片文件处理"><a href="#图片文件处理" class="headerlink" title="图片文件处理"></a>图片文件处理</h2><h3 id="准备工作-3"><a href="#准备工作-3" class="headerlink" title="准备工作"></a>准备工作</h3><div class="note info no-icon flat"><ul><li><p>在项目中加入图片</p></li><li><p>更改了normal.css中的样式</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&quot;../imgs/test.jpg&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>在入口文件中引用</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> math = <span class="built_in">require</span>(<span class="string">&#x27;./mainUtils&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(math.add(<span class="number">20</span>,<span class="number">30</span>))</span><br><span class="line"><span class="built_in">console</span>.log(math.mul(<span class="number">20</span>,<span class="number">30</span>))</span><br><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;../css/normal.css&#x27;</span>)</span><br></pre></td></tr></table></figure></li></ul></div><h3 id="安装url-loader"><a href="#安装url-loader" class="headerlink" title="安装url-loader"></a>安装url-loader</h3><p>命令：<code>npm install --save-dev url-loader</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205161321030.png" alt="安装url-loader"></p><h3 id="配置-2"><a href="#配置-2" class="headerlink" title="配置"></a>配置</h3><p>webpack.config.js的配置如下</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//入口：可以是字符串、数组、对象</span></span><br><span class="line">  entry:<span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">  <span class="comment">//出口：通常是一个对象，里面只扫包含两个属性，path和filename</span></span><br><span class="line">  output:&#123;</span><br><span class="line">    path: path.resolve(__dirname,<span class="string">&#x27;dist&#x27;</span>),<span class="comment">//动态获取绝对路径，path通常是一个绝对路径</span></span><br><span class="line">    filename:<span class="string">&#x27;main.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mode:<span class="string">&quot;development&quot;</span>,<span class="comment">//开发模式，</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="comment">// [style-loader](/loaders/style-loader)</span></span><br><span class="line">          &#123; <span class="attr">loader</span>: <span class="string">&#x27;style-loader&#x27;</span> &#125;,</span><br><span class="line">          <span class="comment">// [css-loader](/loaders/css-loader)</span></span><br><span class="line">            <span class="comment">//css-loader只负责加载</span></span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              modules: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(png|jpg|gif|jpeg)$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              <span class="comment">//124kb   图片大小为123kb，当图片小雨124kb时，使用base64编码</span></span><br><span class="line">              limit: <span class="number">126976</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="打包-2"><a href="#打包-2" class="headerlink" title="打包"></a>打包</h3><p>输入<code>npm run build</code> 命令进行打包</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205162012106.png" alt="打包"></p><h3 id="测试-4"><a href="#测试-4" class="headerlink" title="测试"></a>测试</h3><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205162119457.png" alt="测试"></p><p>如果修改limit的值小于123kb，再次打包</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205162318528.png" alt="再次打包"></p><font color="red">报错</font><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205162353469.png" alt="报错"></p><emp>因为大于8kb的图片，会通过file-loader进行处理，但是我们的项目中并没有file-loader</emp><h3 id="安装file-loader"><a href="#安装file-loader" class="headerlink" title="安装file-loader"></a>安装file-loader</h3><p>命令：<code>npm install --save-dev file-loader</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205162524814.png" alt="安装file-loader"></p><h3 id="再次打包"><a href="#再次打包" class="headerlink" title="再次打包"></a>再次打包</h3><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205163052004.png" alt="再次打包"></p><h3 id="测试-5"><a href="#测试-5" class="headerlink" title="测试"></a>测试</h3><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205163203851.png" alt="测试"></p><p>图片文件被打包进dist文件夹下</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205163252005.png" alt=""></p><h2 id="修改图片文件名称"><a href="#修改图片文件名称" class="headerlink" title="修改图片文件名称"></a>修改图片文件名称</h2><div class="note info no-icon flat"><ul><li>我们发现<code>webpack</code>自动帮助我们生成一个非常长的名字，这是一个32位hash值，目的是防止名字重复，但是，真实开发中，可能对打包的图片名字有一定的要求，比如，将所有的图片放在一个文件夹中，跟上图片原来的名称，同时也要防止重复，所以，我们可以在options中添加上如下选项：<ul><li>img：文件要打包到的文件夹</li><li>name：获取图片原来的名字，放在该位置</li><li>hash:8：为了防止图片名称冲突，依然使用hash，但是我们只保留8位</li><li>ext：使用图片原来的扩展名<br><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205163720514.png" alt="添加选项"></li></ul></li></ul></div><h3 id="打包-3"><a href="#打包-3" class="headerlink" title="打包"></a>打包</h3><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205163052004.png" alt="打包"></p><h3 id="查看文件"><a href="#查看文件" class="headerlink" title="查看文件"></a>查看文件</h3><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205163819310.png" alt="查看文件"></p><h1 id="ES6语法处理"><a href="#ES6语法处理" class="headerlink" title="ES6语法处理"></a>ES6语法处理</h1><div class="note info no-icon flat"><ul><li>仔细阅读<code>webpack</code>打包的js文件，发现写的ES6语法并没有转成ES5，那么就意味着可能一些对ES6还不支持的浏览器没有办法很好的运行该代码</li><li>如果希望将ES6的语法转成ES5，那么就需要使用babel<ul><li>而在webpack中，我们直接使用babel对应的loader就可以了</li></ul></li></ul></div><h2 id="安装babel-loader"><a href="#安装babel-loader" class="headerlink" title="安装babel-loader"></a>安装babel-loader</h2><p>命令：<code>npm install --save-dev babel-loader@7 babel-core babel-preset-es2015</code></p><h2 id="打包-4"><a href="#打包-4" class="headerlink" title="打包"></a>打包</h2><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205165006764.png" alt="打包"></p><h2 id="观察main-js"><a href="#观察main-js" class="headerlink" title="观察main.js"></a>观察main.js</h2><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205165429748.png" alt="观察main.js"></p><h1 id="webpack配置Vue"><a href="#webpack配置Vue" class="headerlink" title="webpack配置Vue"></a><code>webpack</code>配置Vue</h1><h2 id="引入vue-js"><a href="#引入vue-js" class="headerlink" title="引入vue.js"></a>引入vue.js</h2><div class="note info no-icon flat"><ul><li><p>在项目中使用Vuejs，那么必然需要对其有依赖，所以需要先进行安装</p></li><li><p>安装命令：<code>npm install vue --save</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205170110186.png" alt=""></p></li><li><p>在入口文件中引用</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> math = <span class="built_in">require</span>(<span class="string">&#x27;./mainUtils&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(math.add(<span class="number">20</span>,<span class="number">30</span>))</span><br><span class="line"><span class="built_in">console</span>.log(math.mul(<span class="number">20</span>,<span class="number">30</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//引入Vue</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  tem:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  data:&#123;</span><br><span class="line">    message:<span class="string">&#x27;Just&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>修改index.html</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./dist/main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></div><h2 id="配置-3"><a href="#配置-3" class="headerlink" title="配置"></a>配置</h2><p>webpack.config.js的配置如下</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//入口：可以是字符串、数组、对象</span></span><br><span class="line">  entry:<span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">  <span class="comment">//出口：通常是一个对象，里面只扫包含两个属性，path和filename</span></span><br><span class="line">  output:&#123;</span><br><span class="line">    path: path.resolve(__dirname,<span class="string">&#x27;dist&#x27;</span>),<span class="comment">//动态获取绝对路径，path通常是一个绝对路径</span></span><br><span class="line">    filename:<span class="string">&#x27;main.js&#x27;</span>,</span><br><span class="line">    <span class="comment">//publicPath:&#x27;dist/&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mode:<span class="string">&quot;development&quot;</span>,<span class="comment">//开发模式，</span></span><br><span class="line">  resolve:&#123;</span><br><span class="line">    alias:&#123;</span><br><span class="line">      <span class="string">&#x27;vue$&#x27;</span>:<span class="string">&#x27;vue/dist/vue.esm.js&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="打包-5"><a href="#打包-5" class="headerlink" title="打包"></a>打包</h2><p>输入<code>npm run build</code> 命令进行打包</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205171126067.png" alt="打包"></p><h2 id="测试-6"><a href="#测试-6" class="headerlink" title="测试"></a>测试</h2><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205171206352.png" alt="测试"></p><h1 id="plugin的使用"><a href="#plugin的使用" class="headerlink" title="plugin的使用"></a>plugin的使用</h1><h2 id="认识plugin"><a href="#认识plugin" class="headerlink" title="认识plugin"></a>认识plugin</h2><div class="note info no-icon flat"><ul><li><p>plugin是什么？</p><ul><li>plugin是插件的意思，通常是用于对某个现有的架构进行扩展</li><li>webpack中的插件，就是对<code>webpack</code>现有功能的各种扩展，比如打包优化，文件压缩等等</li></ul></li><li><p>loader和plugin区别</p><ul><li>loader主要用于转换某些类型的模块，它是一个转换器</li><li>plugin是插件，它是对<code>webpack</code>本身的扩展，是一个扩展器</li></ul></li><li><p>plugin的使用过程：</p><ul><li>步骤一：通过npm安装需要使用的plugins(某些<code>webpack</code>已经内置的插件不需要安装)</li><li>步骤二：在webpack.config.js中的plugins中配置插件</li></ul></li></ul></div><h2 id="添加版权的Plugin"><a href="#添加版权的Plugin" class="headerlink" title="添加版权的Plugin"></a>添加版权的Plugin</h2><div class="note info no-icon flat"><p>如果想为打包的文件添加版权声明，那么可以使用BannerPlugin，属于webpack自带的插件</p></div><h3 id="配置-4"><a href="#配置-4" class="headerlink" title="配置"></a>配置</h3><p>webpack.config.js的配置如下</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//入口：可以是字符串、数组、对象</span></span><br><span class="line">  entry:<span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">  <span class="comment">//出口：通常是一个对象，里面只扫包含两个属性，path和filename</span></span><br><span class="line">  output:&#123;</span><br><span class="line">    path: path.resolve(__dirname,<span class="string">&#x27;dist&#x27;</span>),<span class="comment">//动态获取绝对路径，path通常是一个绝对路径</span></span><br><span class="line">    filename:<span class="string">&#x27;main.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mode:<span class="string">&quot;development&quot;</span>,<span class="comment">//开发模式</span></span><br><span class="line">  plugins:[</span><br><span class="line">      <span class="keyword">new</span> webpack.BannerPlugin(<span class="string">&#x27;最终版权归Just所有&#x27;</span>)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="打包-6"><a href="#打包-6" class="headerlink" title="打包"></a>打包</h3><p>输入<code>npm run build</code> 命令进行打包</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205180600643.png" alt="打包"></p><h3 id="查看打包后的文件"><a href="#查看打包后的文件" class="headerlink" title="查看打包后的文件"></a>查看打包后的文件</h3><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205180639124.png" alt="打包后的文件"></p><h2 id="打包html的plugin"><a href="#打包html的plugin" class="headerlink" title="打包html的plugin"></a>打包html的plugin</h2><div class="note info no-icon flat"><ul><li>目前，index.html文件是存放在项目的根目录下的，在真实发布项目时，发布的是dist文件夹中的内容，但是dist文件夹中如果没有index.html文件，那么打包的js等文件也就没有意义了，所以，需要将index.html文件打包到dist文件夹中，这个时候就可以使用HtmlWebpackPlugin插件</li><li>HtmlWebpackPlugin插件可以为我们做这些事情：<ul><li>自动生成一个index.html文件(可以指定模板来生成)</li><li>将打包的js文件，自动通过script标签插入到body中</li></ul></li></ul></div><h3 id="安装HtmlWebpackPlugin插件"><a href="#安装HtmlWebpackPlugin插件" class="headerlink" title="安装HtmlWebpackPlugin插件"></a>安装HtmlWebpackPlugin插件</h3><p>命令：<code>npm install html-webpack-plugin --save-dev</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205180907249.png" alt="安装HtmlWebpackPlugin插件"></p><h3 id="配置-5"><a href="#配置-5" class="headerlink" title="配置"></a>配置</h3><p>webpack.config.js的配置如下</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//入口：可以是字符串、数组、对象</span></span><br><span class="line">  entry:<span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">  <span class="comment">//出口：通常是一个对象，里面只扫包含两个属性，path和filename</span></span><br><span class="line">  output:&#123;</span><br><span class="line">    path: path.resolve(__dirname,<span class="string">&#x27;dist&#x27;</span>),<span class="comment">//动态获取绝对路径，path通常是一个绝对路径</span></span><br><span class="line">    filename:<span class="string">&#x27;main.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mode:<span class="string">&quot;development&quot;</span>,<span class="comment">//开发模式</span></span><br><span class="line">  plugins:[</span><br><span class="line">      <span class="keyword">new</span> webpack.BannerPlugin(<span class="string">&#x27;最终版权归Just所有&#x27;</span>),</span><br><span class="line">      <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">        template:<span class="string">&#x27;index.html&#x27;</span></span><br><span class="line">        <span class="comment">//index.html为模版</span></span><br><span class="line">      &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="打包-7"><a href="#打包-7" class="headerlink" title="打包"></a>打包</h3><p>输入<code>npm run build</code> 命令进行打包</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205181617430.png" alt="打包"></p><h3 id="查看打包后的文件-1"><a href="#查看打包后的文件-1" class="headerlink" title="查看打包后的文件"></a>查看打包后的文件</h3><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205181659814.png" alt="打包后的文件"></p><h2 id="压缩js的Plugin"><a href="#压缩js的Plugin" class="headerlink" title="压缩js的Plugin"></a>压缩js的Plugin</h2><div class="note info no-icon flat"><ul><li>在项目发布之前，需要对js等文件进行压缩处理,使用一个第三方的插件uglifyjs-webpack-plugin进行处理</li></ul></div><h3 id="安装uglifyjs-webpack-plugin"><a href="#安装uglifyjs-webpack-plugin" class="headerlink" title="安装uglifyjs-webpack-plugin"></a>安装uglifyjs-webpack-plugin</h3><p>命令：<code>npm install uglifyjs-webpack-plugin --save-dev</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205182106440.png" alt=""></p><h3 id="配置-6"><a href="#配置-6" class="headerlink" title="配置"></a>配置</h3><p>webpack.config.js的配置如下</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> uglifyJsPlugin = <span class="built_in">require</span>(<span class="string">&#x27;uglifyjs-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//入口：可以是字符串、数组、对象</span></span><br><span class="line">  entry:<span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">  <span class="comment">//出口：通常是一个对象，里面只扫包含两个属性，path和filename</span></span><br><span class="line">  output:&#123;</span><br><span class="line">    path: path.resolve(__dirname,<span class="string">&#x27;dist&#x27;</span>),<span class="comment">//动态获取绝对路径，path通常是一个绝对路径</span></span><br><span class="line">    filename:<span class="string">&#x27;main.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mode:<span class="string">&quot;development&quot;</span>,<span class="comment">//开发模式</span></span><br><span class="line">  plugins:[</span><br><span class="line">      <span class="keyword">new</span> webpack.BannerPlugin(<span class="string">&#x27;最终版权归Just所有&#x27;</span>),</span><br><span class="line">      <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">        template:<span class="string">&#x27;index.html&#x27;</span></span><br><span class="line">        <span class="comment">//index.html为模版</span></span><br><span class="line">      &#125;),</span><br><span class="line">      <span class="keyword">new</span> uglifyJsPlugin()</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="打包-8"><a href="#打包-8" class="headerlink" title="打包"></a>打包</h3><p>输入<code>npm run build</code> 命令进行打包</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205182322468.png" alt="打包"></p><h3 id="查看打包后的文件-2"><a href="#查看打包后的文件-2" class="headerlink" title="查看打包后的文件"></a>查看打包后的文件</h3><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205182401891.png" alt="打包后的文件"></p><h1 id="搭建本地服务器"><a href="#搭建本地服务器" class="headerlink" title="搭建本地服务器"></a>搭建本地服务器</h1><div class="note info no-icon flat"><ul><li>webpack提供了一个可选的本地开发服务器，这个本地服务器基于node.js搭建，内部使用express框架，可以实现让浏览器自动刷新显示修改后的结果</li></ul></div><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>命令：<code>npm install --save-dev webpack-dev-server</code></p><div class="note info no-icon flat"><ul><li>devserver也是作为<code>webpack</code>中的一个选项，选项本身可以设置如下属性<ul><li>contentBase：为哪一个文件夹提供本地服务，默认是根文件夹，我们这里要填写./dist</li><li>port：端口号</li><li>inline：页面实时刷新</li><li>historyApiFallback：在SPA页面中，依赖HTML5的history模式</li></ul></li></ul></div><h2 id="配置-7"><a href="#配置-7" class="headerlink" title="配置"></a>配置</h2><p>webpack.config.js的配置如下</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> uglifyJsPlugin = <span class="built_in">require</span>(<span class="string">&#x27;uglifyjs-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//入口：可以是字符串、数组、对象</span></span><br><span class="line">  entry:<span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">  <span class="comment">//出口：通常是一个对象，里面只扫包含两个属性，path和filename</span></span><br><span class="line">  output:&#123;</span><br><span class="line">    path: path.resolve(__dirname,<span class="string">&#x27;dist&#x27;</span>),<span class="comment">//动态获取绝对路径，path通常是一个绝对路径</span></span><br><span class="line">    filename:<span class="string">&#x27;main.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mode:<span class="string">&quot;development&quot;</span>,<span class="comment">//开发模式</span></span><br><span class="line">  plugins:[</span><br><span class="line">      <span class="keyword">new</span> webpack.BannerPlugin(<span class="string">&#x27;最终版权归Just所有&#x27;</span>),</span><br><span class="line">      <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">        template:<span class="string">&#x27;index.html&#x27;</span></span><br><span class="line">        <span class="comment">//index.html为模版</span></span><br><span class="line">      &#125;),</span><br><span class="line">      <span class="keyword">new</span> uglifyJsPlugin()</span><br><span class="line">  ],</span><br><span class="line">  devServer:&#123;</span><br><span class="line">    contentBase:<span class="string">&#x27;./dist&#x27;</span>,</span><br><span class="line">    inline:<span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205183022369.png" alt="配置"></p><p>package.json文件配置</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&quot;dev&quot;: &quot;webpack-dev-server --open&quot;</span><br><span class="line"><span class="comment">//--open参数表示直接打开浏览器(可选)</span></span><br></pre></td></tr></table></figure><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205193933475.png" alt="package.json文件配置"></p><h2 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h2><p>命令：<code>npm run dev</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205193609220.png" alt="启动服务"></p><p>如果启动报错，则是版本至今不兼容的问题，卸载<code>webapck</code>、<code>webpack-cli</code>、<code>webpack-dev-server</code></p><p>命令：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm uninstall webpack -D</span><br><span class="line">npm uninstall webpack-cli -D</span><br><span class="line">npm uninstall webpack-dev-server -D</span><br></pre></td></tr></table></figure><p>重新按照下面的版本安装<code>webapck</code>、<code>webpack-cli</code>、<code>webpack-dev-server</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210207111801555.png" alt=""></p><p>命令：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install webpack@4.46.0 -D </span><br><span class="line">npm install webpack-cli@3.3.2 -D </span><br><span class="line">npm install webpack-dev-server@3.5.1 -D</span><br></pre></td></tr></table></figure><h1 id="webpack配置文件的抽离"><a href="#webpack配置文件的抽离" class="headerlink" title="webpack配置文件的抽离"></a><code>webpack</code>配置文件的抽离</h1><div class="note info no-icon flat"><ul><li><p>在项目中，开发时的依赖可能和生产时的依赖不同，这时候就需要将配置文件进行分离来并通过webpack-merge插件来合并文件，来达到不同环境下使用不同依赖的问题的解决</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205195051699.png" alt="配置文件的抽离"></p></li></ul></div><h2 id="安装webpack-merge插件"><a href="#安装webpack-merge插件" class="headerlink" title="安装webpack-merge插件"></a>安装webpack-merge插件</h2><p>命令：<code>npm install webpack-merge --save-dev</code></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205195855058.png" alt="安装webpack-merge插件"></p><h2 id="各配置文件的写法"><a href="#各配置文件的写法" class="headerlink" title="各配置文件的写法"></a>各配置文件的写法</h2><h3 id="base-config-js"><a href="#base-config-js" class="headerlink" title="base.config.js"></a>base.config.js</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> uglifyJsPlugin = <span class="built_in">require</span>(<span class="string">&#x27;uglifyjs-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//入口：可以是字符串、数组、对象</span></span><br><span class="line">  entry:<span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">  <span class="comment">//出口：通常是一个对象，里面只扫包含两个属性，path和filename</span></span><br><span class="line">  output:&#123;</span><br><span class="line">    path: path.resolve(__dirname,<span class="string">&#x27;../dist&#x27;</span>),<span class="comment">//动态获取绝对路径，path通常是一个绝对路径</span></span><br><span class="line">    filename:<span class="string">&#x27;main.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mode:<span class="string">&quot;development&quot;</span>,<span class="comment">//开发模式</span></span><br><span class="line">  plugins:[</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      template:<span class="string">&#x27;index.html&#x27;</span></span><br><span class="line">      <span class="comment">//index.html为模版</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="dev-config-js"><a href="#dev-config-js" class="headerlink" title="dev.config.js"></a>dev.config.js</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> baseConfig = <span class="built_in">require</span>(<span class="string">&#x27;./base.config&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpackMerge = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = webpackMerge(baseConfig,&#123;</span><br><span class="line">  devServer:&#123;</span><br><span class="line">    contentBase:<span class="string">&#x27;./dist&#x27;</span>,</span><br><span class="line">    inline:<span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="prod-config-js"><a href="#prod-config-js" class="headerlink" title="prod.config.js"></a>prod.config.js</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> uglifyJsPlugin = <span class="built_in">require</span>(<span class="string">&#x27;uglifyjs-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> baseConfig = <span class="built_in">require</span>(<span class="string">&#x27;./base.config&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpackMerge = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = webpackMerge(baseConfig,&#123;</span><br><span class="line">  plugins:[</span><br><span class="line">    <span class="keyword">new</span> webpack.BannerPlugin(<span class="string">&#x27;最终版权归Just所有&#x27;</span>),</span><br><span class="line">    <span class="keyword">new</span> uglifyJsPlugin()</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="package-json文件配置"><a href="#package-json文件配置" class="headerlink" title="package.json文件配置"></a>package.json文件配置</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,</span><br><span class="line">  &quot;build&quot;: &quot;webpack --config ./build/prod.config.js&quot;,</span><br><span class="line">  &quot;dev&quot;: &quot;webpack-dev-server --open --config ./build/dev.config.js&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210206115038571.png" alt="package.json文件配置"></p><h3 id="打包-9"><a href="#打包-9" class="headerlink" title="打包"></a>打包</h3><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205201507108.png" alt="打包"></p><h3 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h3><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/image-20210205201547776.png" alt="项目结构"></p></article><div class="post-tools"><div class="post-tools-left"><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><ul class="reward-group"><li class="reward-item"><a href="/img/wechat.png" target="_blank"><img class="post-qr-code-img" data-lazy-src="/img/wechat.png" alt="微信"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.png" target="_blank"><img class="post-qr-code-img" data-lazy-src="/img/alipay.png" alt="支付宝"></a><div class="post-qr-code-desc">支付宝</div></li></ul></ul></div></div><div class="post_share"><div class="social-share" data-image="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/webapck.jpg" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Vue/">#Vue</a><a class="post-meta__tags" href="/tags/webpack/">#webpack</a></div></div></div></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="mailto:3040705657@qq.com">Just</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://blog.just-null.cn/posts/webpack.html">https://blog.just-null.cn/posts/webpack.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.just-null.cn" target="_blank">Just</a>！</span></div></div></div><div id="pagination-con"><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/vue_cli.html"><img class="prev-cover" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/vuecli.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Vue Cli</div></div></a></div><div class="next-post pull-right"><a href="/posts/vue_com_dev.html"><img class="next-cover" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/zujhkai.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Vue组件化开发</div></div></a></div></nav></div><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i> <span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/axios.html" title="axios基本使用"><img class="cover" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/axios.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-24</div><div class="title">axios基本使用</div></div></a></div><div><a href="/posts/vue_vuex.html" title="Vuex的使用"><img class="cover" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/vuex.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-22</div><div class="title">Vuex的使用</div></div></a></div><div><a href="/posts/promise.html" title="Promise基本使用"><img class="cover" data-lazy-src="https://cdn.jsdelivr.net/gh/Just-null/blog_imgs@v3.2/promise.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-21</div><div class="title">Promise基本使用</div></div></a></div><div><a href="/posts/vue_router.html" title="Vue路由的使用"><img class="cover" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/vue-router.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-08</div><div class="title">Vue路由的使用</div></div></a></div><div><a href="/posts/vue_cli.html" title="Vue Cli"><img class="cover" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_utils/vuecli.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-06</div><div class="title">Vue Cli</div></div></a></div><div><a href="/posts/vue_com_dev.html" title="Vue组件化开发"><img class="cover" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/zujhkai.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-26</div><div class="title">Vue组件化开发</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" data-lazy-src="/img/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"><div class="author-info__name">Just</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">164</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">125</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">102</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Just-null"><i class="fab fa-github"></i><span>Issue</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://space.bilibili.com/352834955" target="_blank"><i class="iconfont icon-bilibili"></i></a><a class="social-icon" href="/3040705657@qq.com" target="_blank"><i class="iconfont icon-email"></i></a><a class="social-icon" href="https://github.com/Just-null" target="_blank"><i class="iconfont icon-github"></i></a><a class="social-icon" href="https://gitee.com/Just-null" target="_blank"><i class="iconfont icon-gitee"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">1.编程语言迭代速度很快，本博客有些文章中的技术在现在来说可能已经过时，请读者注意</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFWebpack"><span class="toc-number">1.</span> <span class="toc-text">什么是Webpack</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Webpack%E5%92%8Cgrunt-gulp%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">2.</span> <span class="toc-text">Webpack和grunt&#x2F;gulp的对比</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack%E5%AE%89%E8%A3%85"><span class="toc-number">3.</span> <span class="toc-text">webpack安装</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack%E8%B5%B7%E6%AD%A5"><span class="toc-number">4.</span> <span class="toc-text">webpack起步</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-number">4.1.</span> <span class="toc-text">准备工作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#js%E6%96%87%E4%BB%B6%E7%9A%84%E6%89%93%E5%8C%85"><span class="toc-number">4.2.</span> <span class="toc-text">js文件的打包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B5%8B%E8%AF%95"><span class="toc-number">4.3.</span> <span class="toc-text">浏览器测试</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">5.</span> <span class="toc-text">webpack的配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A5%E5%8F%A3%E5%92%8C%E5%87%BA%E5%8F%A3"><span class="toc-number">5.1.</span> <span class="toc-text">入口和出口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95"><span class="toc-number">5.2.</span> <span class="toc-text">测试</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B1%80%E9%83%A8%E5%AE%89%E8%A3%85webpack"><span class="toc-number">6.</span> <span class="toc-text">局部安装webpack</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%B1%80%E9%83%A8%E5%AE%89%E8%A3%85%E7%9A%84webpack%E8%BF%9B%E8%A1%8C%E6%89%93%E5%8C%85"><span class="toc-number">6.1.</span> <span class="toc-text">使用局部安装的webpack进行打包</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#package-json%E4%B8%AD%E5%AE%9A%E4%B9%89%E5%90%AF%E5%8A%A8"><span class="toc-number">7.</span> <span class="toc-text">package.json中定义启动</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#package-json%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="toc-number">7.1.</span> <span class="toc-text">package.json文件内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95-1"><span class="toc-number">7.2.</span> <span class="toc-text">测试</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#css-loader%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">8.</span> <span class="toc-text">css-loader的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#css%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86"><span class="toc-number">8.1.</span> <span class="toc-text">css文件处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C-1"><span class="toc-number">8.1.1.</span> <span class="toc-text">准备工作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85css-loader"><span class="toc-number">8.1.2.</span> <span class="toc-text">安装css-loader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85style-loader"><span class="toc-number">8.1.3.</span> <span class="toc-text">安装style-loader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE"><span class="toc-number">8.1.4.</span> <span class="toc-text">配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85"><span class="toc-number">8.1.5.</span> <span class="toc-text">打包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95-2"><span class="toc-number">8.1.6.</span> <span class="toc-text">测试</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#less-loader%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">9.</span> <span class="toc-text">less-loader的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#less%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86"><span class="toc-number">9.1.</span> <span class="toc-text">less文件处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C-2"><span class="toc-number">9.1.1.</span> <span class="toc-text">准备工作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85less-loader%E5%92%8Cless"><span class="toc-number">9.1.2.</span> <span class="toc-text">安装less-loader和less</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-1"><span class="toc-number">9.1.3.</span> <span class="toc-text">配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85-1"><span class="toc-number">9.1.4.</span> <span class="toc-text">打包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95-3"><span class="toc-number">9.1.5.</span> <span class="toc-text">测试</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">10.</span> <span class="toc-text">图片文件的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86"><span class="toc-number">10.1.</span> <span class="toc-text">图片文件处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C-3"><span class="toc-number">10.1.1.</span> <span class="toc-text">准备工作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85url-loader"><span class="toc-number">10.1.2.</span> <span class="toc-text">安装url-loader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-2"><span class="toc-number">10.1.3.</span> <span class="toc-text">配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85-2"><span class="toc-number">10.1.4.</span> <span class="toc-text">打包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95-4"><span class="toc-number">10.1.5.</span> <span class="toc-text">测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85file-loader"><span class="toc-number">10.1.6.</span> <span class="toc-text">安装file-loader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%8D%E6%AC%A1%E6%89%93%E5%8C%85"><span class="toc-number">10.1.7.</span> <span class="toc-text">再次打包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95-5"><span class="toc-number">10.1.8.</span> <span class="toc-text">测试</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%E5%90%8D%E7%A7%B0"><span class="toc-number">10.2.</span> <span class="toc-text">修改图片文件名称</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85-3"><span class="toc-number">10.2.1.</span> <span class="toc-text">打包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6"><span class="toc-number">10.2.2.</span> <span class="toc-text">查看文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ES6%E8%AF%AD%E6%B3%95%E5%A4%84%E7%90%86"><span class="toc-number">11.</span> <span class="toc-text">ES6语法处理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85babel-loader"><span class="toc-number">11.1.</span> <span class="toc-text">安装babel-loader</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%8C%85-4"><span class="toc-number">11.2.</span> <span class="toc-text">打包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%82%E5%AF%9Fmain-js"><span class="toc-number">11.3.</span> <span class="toc-text">观察main.js</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack%E9%85%8D%E7%BD%AEVue"><span class="toc-number">12.</span> <span class="toc-text">webpack配置Vue</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E5%85%A5vue-js"><span class="toc-number">12.1.</span> <span class="toc-text">引入vue.js</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-3"><span class="toc-number">12.2.</span> <span class="toc-text">配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%8C%85-5"><span class="toc-number">12.3.</span> <span class="toc-text">打包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95-6"><span class="toc-number">12.4.</span> <span class="toc-text">测试</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#plugin%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">13.</span> <span class="toc-text">plugin的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86plugin"><span class="toc-number">13.1.</span> <span class="toc-text">认识plugin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%89%88%E6%9D%83%E7%9A%84Plugin"><span class="toc-number">13.2.</span> <span class="toc-text">添加版权的Plugin</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-4"><span class="toc-number">13.2.1.</span> <span class="toc-text">配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85-6"><span class="toc-number">13.2.2.</span> <span class="toc-text">打包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%89%93%E5%8C%85%E5%90%8E%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-number">13.2.3.</span> <span class="toc-text">查看打包后的文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%8C%85html%E7%9A%84plugin"><span class="toc-number">13.3.</span> <span class="toc-text">打包html的plugin</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85HtmlWebpackPlugin%E6%8F%92%E4%BB%B6"><span class="toc-number">13.3.1.</span> <span class="toc-text">安装HtmlWebpackPlugin插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-5"><span class="toc-number">13.3.2.</span> <span class="toc-text">配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85-7"><span class="toc-number">13.3.3.</span> <span class="toc-text">打包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%89%93%E5%8C%85%E5%90%8E%E7%9A%84%E6%96%87%E4%BB%B6-1"><span class="toc-number">13.3.4.</span> <span class="toc-text">查看打包后的文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9js%E7%9A%84Plugin"><span class="toc-number">13.4.</span> <span class="toc-text">压缩js的Plugin</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85uglifyjs-webpack-plugin"><span class="toc-number">13.4.1.</span> <span class="toc-text">安装uglifyjs-webpack-plugin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-6"><span class="toc-number">13.4.2.</span> <span class="toc-text">配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85-8"><span class="toc-number">13.4.3.</span> <span class="toc-text">打包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%89%93%E5%8C%85%E5%90%8E%E7%9A%84%E6%96%87%E4%BB%B6-2"><span class="toc-number">13.4.4.</span> <span class="toc-text">查看打包后的文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%90%AD%E5%BB%BA%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">14.</span> <span class="toc-text">搭建本地服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">14.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-7"><span class="toc-number">14.2.</span> <span class="toc-text">配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1"><span class="toc-number">14.3.</span> <span class="toc-text">启动服务</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E6%8A%BD%E7%A6%BB"><span class="toc-number">15.</span> <span class="toc-text">webpack配置文件的抽离</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85webpack-merge%E6%8F%92%E4%BB%B6"><span class="toc-number">15.1.</span> <span class="toc-text">安装webpack-merge插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E5%86%99%E6%B3%95"><span class="toc-number">15.2.</span> <span class="toc-text">各配置文件的写法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#base-config-js"><span class="toc-number">15.2.1.</span> <span class="toc-text">base.config.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dev-config-js"><span class="toc-number">15.2.2.</span> <span class="toc-text">dev.config.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#prod-config-js"><span class="toc-number">15.2.3.</span> <span class="toc-text">prod.config.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#package-json%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE"><span class="toc-number">15.2.4.</span> <span class="toc-text">package.json文件配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85-9"><span class="toc-number">15.2.5.</span> <span class="toc-text">打包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-number">15.2.6.</span> <span class="toc-text">项目结构</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/todaystudy.html" title="今日校园信息自动提交（适配昆明学院）"><img data-lazy-src="https://cdn.jsdelivr.net/gh/Just-null/blog_imgs@v3.5/todaystudy.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="今日校园信息自动提交（适配昆明学院）"></a><div class="content"><a class="title" href="/posts/todaystudy.html" title="今日校园信息自动提交（适配昆明学院）">今日校园信息自动提交（适配昆明学院）</a><time datetime="2021-09-01T01:06:40.000Z" title="发表于 2021-09-01 09:06:40">2021-09-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/springboot_es.html" title="SpringBoot Data操作ElasticSearch"><img data-lazy-src="https://cdn.jsdelivr.net/gh/Just-null/blog_imgs@v3.3/springboot_es.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="SpringBoot Data操作ElasticSearch"></a><div class="content"><a class="title" href="/posts/springboot_es.html" title="SpringBoot Data操作ElasticSearch">SpringBoot Data操作ElasticSearch</a><time datetime="2021-07-23T02:25:40.000Z" title="发表于 2021-07-23 10:25:40">2021-07-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/java_es.html" title="Java操作ElasticSearch"><img data-lazy-src="https://cdn.jsdelivr.net/gh/Just-null/blog_imgs@v3.3/java_es.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Java操作ElasticSearch"></a><div class="content"><a class="title" href="/posts/java_es.html" title="Java操作ElasticSearch">Java操作ElasticSearch</a><time datetime="2021-07-22T02:25:40.000Z" title="发表于 2021-07-22 10:25:40">2021-07-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/ik_start.html" title="IK分词器的使用"><img data-lazy-src="https://cdn.jsdelivr.net/gh/Just-null/blog_imgs@v3.3/ik_start.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="IK分词器的使用"></a><div class="content"><a class="title" href="/posts/ik_start.html" title="IK分词器的使用">IK分词器的使用</a><time datetime="2021-07-21T02:25:40.000Z" title="发表于 2021-07-21 10:25:40">2021-07-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/es_query.html" title="ElasticSearch高级检索"><img data-lazy-src="https://cdn.jsdelivr.net/gh/Just-null/blog_imgs@v3.3/es_query.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="ElasticSearch高级检索"></a><div class="content"><a class="title" href="/posts/es_query.html" title="ElasticSearch高级检索">ElasticSearch高级检索</a><time datetime="2021-07-21T02:09:40.000Z" title="发表于 2021-07-21 10:09:40">2021-07-21</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(https://gitee.com/Just-null/blogimgs/raw/master/img_utils/webapck.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Just</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi,welcome to my blog!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div></div><hr><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",preloader.endLoading())</script><div class="js-pjax"><script>document.getElementsByClassName("mermaid").length&&(window.mermaidJsLoad?mermaid.init():getScript("https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js").then(()=>{window.mermaidJsLoad=!0,mermaid.initialize({theme:"default"}),mermaid.init()}))</script><script>(()=>{const t=document.getElementById("twikoo-count"),o=()=>{let t={el:"#twikoo-wrap",envId:"https://twikoo-fa7b7o6a0-just-null.vercel.app/",region:"ap-shanghai"};twikoo.init(t)},e=()=>{twikoo.getCommentsCount({envId:"https://twikoo-fa7b7o6a0-just-null.vercel.app/",region:"ap-shanghai",urls:[window.location.pathname],includeReply:!1}).then((function(o){t.innerText=o[0].count})).catch((function(t){console.error(t)}))},n=(n=!1)=>{"object"==typeof twikoo?(o(),n&&t&&setTimeout(e,0)):getScript("https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(()=>{o(),n&&t&&setTimeout(e,0)})};btf.loadComment(document.getElementById("twikoo-wrap"),n)})()</script></div><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll(),"object"==typeof preloader&&preloader.endLoading()})),document.addEventListener("pjax:send",(function(){if("object"==typeof preloader&&preloader.initLoading(),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode")})),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script async>window.onload=function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src="/sw-register.js?v="+Date.now(),t.parentNode.insertBefore(e,t)}</script></body></html>