<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Java集合 | Just</title><meta name="keywords" content="Java,集合"><meta name="author" content="Just,3040705657@qq.com"><meta name="copyright" content="Just"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="引言通常，我们的Java程序需要根据程序运行时才知道创建了多少个对象。但若非程序运行，程序开发阶段，我们根本不知道到底需要多少个数量的对象，甚至不知道它的准确类型。为了满足这些常规的编程需要，我们要求能在任何时候，任何地点创建任意数量的对象，而这些对象用什么来容纳呢？我们首先想到了数组，但是！数组只能存放同一类型的数据，而且其长度是固定的，那怎么办了？集合便应运而生了。  什么是集合Java集合类"><meta property="og:type" content="article"><meta property="og:title" content="Java集合"><meta property="og:url" content="https://blog.just-null.cn/posts/java_list.html"><meta property="og:site_name" content="Just"><meta property="og:description" content="引言通常，我们的Java程序需要根据程序运行时才知道创建了多少个对象。但若非程序运行，程序开发阶段，我们根本不知道到底需要多少个数量的对象，甚至不知道它的准确类型。为了满足这些常规的编程需要，我们要求能在任何时候，任何地点创建任意数量的对象，而这些对象用什么来容纳呢？我们首先想到了数组，但是！数组只能存放同一类型的数据，而且其长度是固定的，那怎么办了？集合便应运而生了。  什么是集合Java集合类"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/2756FC8B8EA85E6EFD9121EDE2A98F9D.jpg"><meta property="article:published_time" content="2020-06-10T06:46:40.000Z"><meta property="article:modified_time" content="2020-06-10T14:19:23.000Z"><meta property="article:author" content="Just"><meta property="article:tag" content="Java"><meta property="article:tag" content="集合"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/2756FC8B8EA85E6EFD9121EDE2A98F9D.jpg"><link rel="shortcut icon" href="/img/favicon.jpg"><link rel="canonical" href="https://blog.just-null.cn/posts/java_list"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//hm.baidu.com"><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="2JkD1Tl7FTjV415YIPG25-ktxtdeXCZXVqru84Uixy4"><meta name="baidu-site-verification" content="code-pbcZ2zak1a"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?e7ddaae93d4f07241048bb32e32f85d8";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简"},noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:{limitCount:2e3,languages:{author:"作者: Just",link:"链接: ",source:"来源: Just",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},lightbox:"fancybox",Snackbar:void 0,source:{jQuery:"https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js",justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js",css:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css"},fancybox:{js:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js",css:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"}},isPhotoFigcaption:!0,islazyload:!0,isanchor:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2020-06-10 22:19:23"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"))})(window)</script><link rel="stylesheet" href="/Just/Just.css"><script src="/Just/rgbaster.min.js"></script><script src="/Just/Just.js"></script><style>.app-refresh{position:fixed;top:-2.2rem;left:0;right:0;z-index:99999;padding:0 1rem;font-size:15px;height:2.2rem;transition:all .3s ease}.app-refresh-wrap{display:flex;color:#fff;height:100%;align-items:center;justify-content:center}.app-refresh-wrap a{color:#fff;text-decoration:underline;cursor:pointer}</style><meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="Just" type="application/atom+xml"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" data-lazy-src="/img/avatar.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">164</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">125</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">102</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-book"></i> <span>文库</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>文章标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>文章分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-link"></i> <span>网站</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/contact/"><i class="fa-fw far fa-comments"></i> <span>留言板</span></a></li><li><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友情链接</span></a></li><li><a class="site-page" href="/utils/"><i class="fa-fw fas fa-tools"></i> <span>在线工具</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><div id="blog_name"><a id="site-name" href="/">Just</a></div><div id="page-name"><a id="page-name-text" href="https://blog.just-null.cn/posts/java_list.html">Java集合</a></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-book"></i> <span>文库</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>文章标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>文章分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-link"></i> <span>网站</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/contact/"><i class="fa-fw far fa-comments"></i> <span>留言板</span></a></li><li><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友情链接</span></a></li><li><a class="site-page" href="/utils/"><i class="fa-fw fas fa-tools"></i> <span>在线工具</span></a></li></ul></div></div></div><div id="nav-right"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div id="darkmode_navswitch"><a class="site-page darkmode_switchbutton" title="模式切换"><i class="fas fa-adjust"></i></a></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div class="coverdiv oaded" id="coverdiv"><img class="entered loading" id="post-cover" src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/2756FC8B8EA85E6EFD9121EDE2A98F9D.jpg" alt="cover" onerror='this.onerror=null,this.src="/img/404.jpg"'></div><div id="post-info"><h1 class="post-title">Java集合</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-06-10T06:46:40.000Z" title="发表于 2020-06-10 14:46:40">2020-06-10</time><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-06-10T14:19:23.000Z" title="更新于 2020-06-10 22:19:23">2020-06-10</time></span><span class="post-meta-categories"><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%9B%86%E5%90%88/">集合</a></span></div><div class="meta-secondline"><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">11.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>52分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><script>window.onload=coverColor()</script><main class="layout" id="content-inner"><div id="post"><div id="article-all"><article class="post-content" id="article-container"><h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><div class="note info no-icon flat"><p>通常，我们的Java程序需要根据程序运行时才知道创建了多少个对象。但若非程序运行，程序开发阶段，我们根本不知道到底需要多少个数量的对象，甚至不知道它的准确类型。为了满足这些常规的编程需要，我们要求能在任何时候，任何地点创建任意数量的对象，而这些对象用什么来容纳呢？我们首先想到了数组，但是！数组只能存放同一类型的数据，而且其长度是固定的，那怎么办了？集合便应运而生了。</p></div><h1 id="什么是集合"><a href="#什么是集合" class="headerlink" title="什么是集合"></a>什么是<code>集合</code></h1><div class="note info no-icon flat"><p>Java集合类存放在java.util包中，是一个用来存放对象的<font color="red">容器</font>。</p><p>　<strong>注意：</strong></p><p>　　　　1. 集合只能存放对象。比如你存入一个int型数据放入集合中，其实它是自动转换成Integer类后存入的，Java中每一种基本数据类型都有对应的引用类型。<br>　　　　2. 集合存放的都是对象的引用，而非对象本身。所以我们称集合中的对象就是集合中对象的引用。对象本身还是放在堆内存中。<br>　　　　3. 集合可以存放不同类型，不限数量的数据类型。</p></div><h1 id="集合和数组的区别"><a href="#集合和数组的区别" class="headerlink" title="集合和数组的区别"></a><code>集合</code>和<code>数组</code>的区别</h1><div class="note info no-icon flat"><ol><li>⻓度的区别</li></ol><ul><li>数组的⻓度固定</li><li>集合的⻓度可变</li></ul><ol><li>元素的数据类型</li></ol><ul><li>数组可以存储基本数据类型,也可以存储引⽤类型</li><li>集合只能存储引⽤类型<strong>(</strong>你存储的是简单的<strong>int</strong>，它会⾃动装箱成<strong>Integer)</strong></li></ul></div><h1 id="Collection-和-Iterator"><a href="#Collection-和-Iterator" class="headerlink" title="Collection 和 Iterator"></a><strong><code>Collection</code></strong> 和 <strong><code>Iterator</code></strong></h1><h2 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a><strong><code>Collection</code></strong></h2><p>Collection 是 List 和 Set 的父接口，在 Collection 中定义了一些主要方法</p><h3 id="继承图"><a href="#继承图" class="headerlink" title="继承图"></a>继承图</h3><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200728184808.png" alt=""></p><p>但是我们不需要掌握那么多，只要掌握下面圈出的部分即可</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200728191148.png" alt=""></p><h3 id="主要方法"><a href="#主要方法" class="headerlink" title="主要方法"></a>主要方法</h3><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200728191627.png" alt=""></p><div class="note info no-icon flat"><ul><li>添加功能：</li></ul><p>boolean <strong>add</strong>(E o) 添加一个元素</p><p>boolean <strong>addAll</strong>(Collection&lt;? extends E&gt; c) 添加一个集合的元素</p><ul><li>删除功能：</li></ul><p>void <strong>clear</strong>() 移除所有元素</p><p>boolean <strong>remove</strong>(Object o) 移除一个元素</p><p>boolean <strong>removeAll</strong>(Collection&lt;?&gt; c) 移除一个集合的元素，只要有一个元素被移除了，就返回true</p><ul><li>判断功能：</li></ul><p>boolean <strong>contains</strong>(Object o) 判断集合是否包含该元素</p><p>boolean <strong>containsAll</strong>(Collection&lt;?&gt; c) 判断集合中是否包含指定集合的元素，只要全部包含，才返回true</p><p>boolean <strong>isEmpty</strong>() 判断集合是否为空</p><ul><li>获取功能</li></ul><p>Iterator<e><strong>iterator</strong>() 返回在此 collection 的元素上进行迭代的迭代器。</e></p><ul><li>长度功能</li></ul><p>int <strong>size</strong>() 返回此 collection 中的元素数。</p><ul><li>交集功能</li></ul><p>boolean <strong>retainAll</strong>(Collection&lt;?&gt; c) 移除此collection中为包含在指定collection中的所有元素，集合A和集合B做鸡哦啊急，最终结果保存在集合A中，返回值表示的是A是否发生过</p><ul><li>比较功能</li></ul><p>boolean <strong>equals</strong>(Object o) 比较此 collection 与指定对象是否相等</p><ul><li>其他</li></ul><p>int <strong>hashCode</strong>() 返回此 collection 的哈希码值。</p></div><h2 id="Iterator"><a href="#Iterator" class="headerlink" title="Iterator"></a><strong><code>Iterator</code></strong></h2><h3 id="主要方法-1"><a href="#主要方法-1" class="headerlink" title="主要方法"></a>主要方法</h3><p>Collection的源码中继承了Iterable，有iterator()这个⽅法，Iterable是⼀个接⼝，它有iterator()这个⽅法，返回的是<strong>Iterator</strong>，它只有四个⽅法，有一个可能是新增的，我也不太清楚</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200728192030.png" alt=""></p><div class="note info no-icon flat"><p>boolean <strong>hasNext</strong>() 如果仍有元素可以迭代，则返回 true</p><p>E <strong>next</strong>() 返回迭代的下一个元素</p></div><h1 id="List接口"><a href="#List接口" class="headerlink" title="List接口"></a><code>List</code>接口</h1><h2 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h2><div class="note warning flat"><ul><li>有序<strong>(</strong>存储顺序和取出顺序⼀致<strong>),</strong>可重复</li></ul></div><h2 id="常⽤⼦类"><a href="#常⽤⼦类" class="headerlink" title="常⽤⼦类"></a>常⽤⼦类</h2><div class="note info no-icon flat"><p>List 接口下面主要有两个实现 ArrayList 和 LinkedList，他们都是<font color="red"><code>有顺序</code></font>的，也就是放进去是什么顺序，取出来还是什么顺序，也就是基于线性存储，可以看作是一个可变数组</p><p>ArrayList：查询数据比较快，添加和删除数据比较慢(基于可变数组，线程<code>不安全</code>)</p><p>LinkedList：查询数据比较慢，添加和删除数据比较快（基于链表数据结构，线程<code>不安全</code>）</p><p>Vector:Vector 已经不建议使用，Vector 中的方法都是同步的，效率慢，已经被 ArrayList取代，线程<code>安全</code></p><p>Stack 是继承 Vector 实现了一个栈，栈结构是后进先出，目前已经被 LinkedList 取代</p></div><h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200728192713.png" alt=""></p><h2 id="ArrayList解析"><a href="#ArrayList解析" class="headerlink" title="ArrayList解析"></a><code>ArrayList</code>解析</h2><div class="note info no-icon flat"><p>底层是数组实现的</p></div><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200728195506.png" alt=""></p><h3 id="使用介绍"><a href="#使用介绍" class="headerlink" title="使用介绍"></a>使用介绍</h3><h4 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a><font color="red"><code>构造方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200728195928.png" alt=""></p><h4 id="Add方法"><a href="#Add方法" class="headerlink" title="Add方法"></a><font color="red"><code>Add方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200728200233.png" alt=""></p><h5 id="add-E-e"><a href="#add-E-e" class="headerlink" title="add(E e)"></a>add(E e)</h5><p>步骤：</p><ul><li>检查是否需要扩容</li><li>插⼊元素</li></ul><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//用于记录数组被修改的次数，+1</span></span><br><span class="line">        modCount++;</span><br><span class="line">        add(e, elementData, size);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(E e, Object[] elementData, <span class="keyword">int</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 如果容量和设定值相等，进行扩容</span></span><br><span class="line">        <span class="keyword">if</span> (s == elementData.length)</span><br><span class="line">          <span class="comment">//调用grow进行扩容</span></span><br><span class="line">            elementData = grow();</span><br><span class="line">        <span class="comment">// 元素放到数组末尾</span></span><br><span class="line">        elementData[s] = e;</span><br><span class="line">        <span class="comment">// size +1</span></span><br><span class="line">        size = s + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li>判断size的大小是否和现有存放数据的数组的大小相同，如果是，则需要扩容</li><li>添加元素</li><li>size+1</li></ul><h6 id="grow"><a href="#grow" class="headerlink" title="grow()"></a>grow()</h6><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200728202718.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> Object[] grow(<span class="keyword">int</span> minCapacity) &#123;</span><br><span class="line">    <span class="comment">// 记录老的容量</span></span><br><span class="line">    <span class="keyword">int</span> oldCapacity = elementData.length;</span><br><span class="line">  <span class="comment">// 如果容量 &gt; 0 或 数组不是DEFAULTCAPACITY_EMPTY_ELEMENTDATA，计算新的容量大小并扩容</span></span><br><span class="line">    <span class="keyword">if</span> (oldCapacity &gt; <span class="number">0</span> || elementData != DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123;</span><br><span class="line">        <span class="keyword">int</span> newCapacity = ArraysSupport.newLength(oldCapacity,</span><br><span class="line">                minCapacity - oldCapacity, <span class="comment">/* minimum growth 最小扩大量*/</span></span><br><span class="line">                                                  </span><br><span class="line">                oldCapacity &gt;&gt; <span class="number">1</span>           <span class="comment">/* preferred growth 首选扩大量*/</span>);</span><br><span class="line">      <span class="comment">/*</span></span><br><span class="line"><span class="comment">      &gt;&gt; 是移位运算符，右移一位相当于除以二，也就是说这里是扩大到1.5倍</span></span><br><span class="line"><span class="comment">      如果是从0扩容，0 &gt;&gt; 1 还是0，此时使用minCapacity，也就是1</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">        <span class="keyword">return</span> elementData = Arrays.copyOf(elementData, newCapacity);</span><br><span class="line">      <span class="comment">// 如果是 DEFAULTCAPACITY_EMPTY_ELEMENTDATA，创建新数组</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 容量取 默认容量 和 minCapacity 中的更大值</span></span><br><span class="line">        <span class="keyword">return</span> elementData = <span class="keyword">new</span> Object[Math.max(DEFAULT_CAPACITY, minCapacity)];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> Object[] grow() &#123;</span><br><span class="line">        <span class="comment">// 扩容后容量至少比以前大1</span></span><br><span class="line">        <span class="keyword">return</span> grow(size + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>记录老的容量</li><li>如果容量 &gt; 0 或 数组不是DEFAULTCAPACITY_EMPTY_ELEMENTDATA，计算新的容量大小并扩容</li><li>否则得到最小的容量（节约资源）</li></ul><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200728204932.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">newLength</span><span class="params">(<span class="keyword">int</span> oldLength, <span class="keyword">int</span> minGrowth, <span class="keyword">int</span> prefGrowth)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// assert oldLength &gt;= 0</span></span><br><span class="line">    <span class="comment">// assert minGrowth &gt; 0</span></span><br><span class="line">    <span class="comment">//计算新数组大小，取 minimum growth 和preferred growth 的更大值加上旧的容量。</span></span><br><span class="line">    <span class="keyword">int</span> newLength = Math.max(minGrowth, prefGrowth) + oldLength;</span><br><span class="line">    <span class="keyword">if</span> (newLength - MAX_ARRAY_LENGTH &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> newLength;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> hugeLength(oldLength, minGrowth);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">hugeLength</span><span class="params">(<span class="keyword">int</span> oldLength, <span class="keyword">int</span> minGrowth)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> minLength = oldLength + minGrowth;</span><br><span class="line">    <span class="keyword">if</span> (minLength &lt; <span class="number">0</span>) &#123; <span class="comment">// overflow</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> OutOfMemoryError(<span class="string">&quot;Required array length too large&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (minLength &lt;= MAX_ARRAY_LENGTH) &#123;</span><br><span class="line">        <span class="keyword">return</span> MAX_ARRAY_LENGTH;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Integer.MAX_VALUE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>进行扩容</li><li>计算新数组大小，取 minimum growth 和preferred growth 的更大值加上旧的容量。</li></ul><h6 id="copyOf"><a href="#copyOf" class="headerlink" title="copyOf()"></a>copyOf()</h6><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200728205724.png" alt=""></p><h5 id="add-int-index-E-element"><a href="#add-int-index-E-element" class="headerlink" title="add(int index, E element)"></a>add(int index, E element)</h5><p>添加到指定位置</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200728211213.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> index, E element)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 检查index是否在数组范围内</span></span><br><span class="line">        rangeCheckForAdd(index);</span><br><span class="line">        <span class="comment">// 修改次数 +1</span></span><br><span class="line">        modCount++;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> s;</span><br><span class="line">        Object[] elementData;</span><br><span class="line">        <span class="comment">// 如果容量不够，进行扩容</span></span><br><span class="line">        <span class="keyword">if</span> ((s = size) == (elementData = <span class="keyword">this</span>.elementData).length)</span><br><span class="line">            elementData = grow();</span><br><span class="line">        <span class="comment">// 将index位置及之后的元素向后挪一位</span></span><br><span class="line">        <span class="comment">// 数组复制</span></span><br><span class="line">        System.arraycopy(elementData, <span class="comment">// 原数组</span></span><br><span class="line">                         index, <span class="comment">// 从原数组的开始位置</span></span><br><span class="line">                         elementData, <span class="comment">// 目标数组</span></span><br><span class="line">                         index + <span class="number">1</span>, <span class="comment">// 在目标数组的开始位置</span></span><br><span class="line">                         s - index); <span class="comment">// 复制元素的个数</span></span><br><span class="line">        <span class="comment">// 将插入元素放在index的位置</span></span><br><span class="line">        elementData[index] = element;</span><br><span class="line">        <span class="comment">// size + 1</span></span><br><span class="line">        size = s + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="get方法"><a href="#get方法" class="headerlink" title="get方法"></a><font color="red"><code>get方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200729142127.png" alt=""></p><p>步骤：</p><ul><li>检查脚标</li><li>返回元素</li></ul><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//检查脚标</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;X extends RuntimeException&gt;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">checkIndex</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> length,</span></span></span><br><span class="line"><span class="function"><span class="params">               BiFunction&lt;String, List&lt;Integer&gt;, X&gt; oobef)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= length)</span><br><span class="line">        <span class="keyword">throw</span> outOfBoundsCheckIndex(oobef, index, length);</span><br><span class="line">    <span class="keyword">return</span> index;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//返回元素</span></span><br><span class="line"><span class="function">E <span class="title">elementData</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (E) elementData[index];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="set方法"><a href="#set方法" class="headerlink" title="set方法"></a><font color="red"><code>set方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200729143057.png" alt=""></p><p>步骤：</p><ul><li>检查⻆标</li><li>替换元素</li><li>返回旧值</li></ul><h4 id="remove方法"><a href="#remove方法" class="headerlink" title="remove方法"></a><font color="red"><code>remove方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200729143612.png" alt=""></p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200729143903.png" alt=""></p><p>步骤：</p><ul><li>检查脚标</li><li>拷贝数组</li><li>移动元素</li><li>删除元素</li><li>返回旧值</li></ul><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><h4 id="常用方法演示"><a href="#常用方法演示" class="headerlink" title="常用方法演示"></a>常用方法演示</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">text01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * 最好不要这样写，这样属于面向具体编程了</span></span><br><span class="line"><span class="comment">         * 无法达到灵活互换</span></span><br><span class="line"><span class="comment">         * 最好面向接口编程</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        ArrayList arrayList = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * 采用面向接口编程</span></span><br><span class="line"><span class="comment">         * 使用 Collection 会更灵活，如果 List 不能满足要求</span></span><br><span class="line"><span class="comment">         * 那么可以采用 HashSet，因为 HashSet 也实现了该接口</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        Collection c = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * 面向接口编程</span></span><br><span class="line"><span class="comment">         * 采用 list 接口可以使用 Collection 里的方法</span></span><br><span class="line"><span class="comment">         * 也可以使用 list 接口扩展的方法</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        List l = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        <span class="comment">//自动装箱，适合于 jdk1.5以上</span></span><br><span class="line">        l.add(<span class="number">1</span>);</span><br><span class="line">        l.add(<span class="number">3</span>);</span><br><span class="line">        <span class="comment">//jdk1.5 以前，必须如下使用</span></span><br><span class="line">        l.add(<span class="keyword">new</span> Integer(<span class="number">2</span>));</span><br><span class="line">        l.add(<span class="keyword">new</span> Integer(<span class="number">4</span>));</span><br><span class="line">        <span class="comment">//可以加入重复数据</span></span><br><span class="line">        l.add(<span class="number">1</span>);</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * 不能加入字符串</span></span><br><span class="line"><span class="comment">         * 在强制转换时会出现 ClassCastException 错误</span></span><br><span class="line"><span class="comment">         * l.add(&quot;sadfdsfs&quot;);</span></span><br><span class="line"><span class="comment">         * 可以采用 List 接口的中 get()方法依次取得元素</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;l.size(); i++) &#123;</span><br><span class="line">            <span class="comment">//将 Object 强制转换为 Integer</span></span><br><span class="line">            Integer e = (Integer)l.get(i);</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;-----------&quot;</span>);</span><br><span class="line">         <span class="comment">//调用 remove 删除集合中的元素</span></span><br><span class="line">         <span class="comment">//如果元素重复会 remove去掉第一个匹配的</span></span><br><span class="line">        l.remove(<span class="number">2</span>);</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         *采用 Iterator 遍历数据（while 循环）</span></span><br><span class="line"><span class="comment">         *Iterator 是一种模式，主要可以统一数据结构的访问方式</span></span><br><span class="line"><span class="comment">         *这样在程序中就不用关心各个数据结构的实现了</span></span><br><span class="line"><span class="comment">         *使对不同数据结构的遍历更加简单了，更加统一了</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        Iterator iter = l.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iter.hasNext()) &#123;</span><br><span class="line">            Integer v = (Integer)iter.next();</span><br><span class="line">            System.out.println(v);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;-----------&quot;</span>);</span><br><span class="line">        <span class="comment">//采用 Iterator 遍历数据（for 循环）</span></span><br><span class="line">        <span class="keyword">for</span> (Iterator iter1=l.iterator(); iter1.hasNext();) &#123;</span><br><span class="line">            Integer v = (Integer)iter1.next();</span><br><span class="line">            System.out.println(v);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//在集合中是否包含 3，输出为：true</span></span><br><span class="line">        System.out.println(l.contains(<span class="number">3</span>));</span><br><span class="line">        <span class="comment">//集合是否为空，输出：false</span></span><br><span class="line">        System.out.println(l.isEmpty());</span><br><span class="line">        System.out.println(<span class="string">&quot;------------&quot;</span>);</span><br><span class="line">        <span class="comment">//转换成对象数组</span></span><br><span class="line">        Object[] oArray1 = l.toArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;oArray1.length; i++) &#123;</span><br><span class="line">            Integer v = (Integer)oArray1[i];</span><br><span class="line">            System.out.println(v);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="comment">//运行时自动创建相应类型的数组</span></span><br><span class="line">        Integer[] iArray = <span class="keyword">new</span> Integer[l.size()];</span><br><span class="line">        l.toArray(iArray);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;iArray.length; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> v = iArray[i];</span><br><span class="line">            System.out.println(v);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200802142453.png" alt=""></p><h2 id="LinkedList解析"><a href="#LinkedList解析" class="headerlink" title="LinkedList解析"></a><strong><code>LinkedList</code></strong>解析</h2><div class="note info no-icon flat"><p>底层是链表实现的</p></div><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200729144341.png" alt=""></p><h3 id="使用介绍-1"><a href="#使用介绍-1" class="headerlink" title="使用介绍"></a>使用介绍</h3><h4 id="构造方法-1"><a href="#构造方法-1" class="headerlink" title="构造方法"></a><font color="red"><code>构造方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200729185351.png" alt=""></p><h4 id="Add方法-1"><a href="#Add方法-1" class="headerlink" title="Add方法"></a><font color="red"><code>Add方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200729185549.png" alt=""></p><h5 id="add-E-e-1"><a href="#add-E-e-1" class="headerlink" title="add(E e)"></a>add(E e)</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    linkLast(e);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">linkLast</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> Node&lt;E&gt; l = last;</span><br><span class="line">        <span class="keyword">final</span> Node&lt;E&gt; newNode = <span class="keyword">new</span> Node&lt;&gt;(l, e, <span class="keyword">null</span>);</span><br><span class="line">        last = newNode;</span><br><span class="line">        <span class="keyword">if</span> (l == <span class="keyword">null</span>)</span><br><span class="line">            first = newNode;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            l.next = newNode;</span><br><span class="line">        size++;</span><br><span class="line">        modCount++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">        E item;</span><br><span class="line">        Node&lt;E&gt; next;</span><br><span class="line">        Node&lt;E&gt; prev;</span><br><span class="line"></span><br><span class="line">        Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;</span><br><span class="line">            <span class="keyword">this</span>.item = element;</span><br><span class="line">            <span class="keyword">this</span>.next = next;</span><br><span class="line">            <span class="keyword">this</span>.prev = prev;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>步骤：</p><ul><li>往链表的最后添加元素</li></ul><h4 id="remove方法-1"><a href="#remove方法-1" class="headerlink" title="remove方法"></a><font color="red"><code>remove方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200729190323.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (o == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="keyword">null</span>; x = x.next) &#123;</span><br><span class="line">            <span class="keyword">if</span> (x.item == <span class="keyword">null</span>) &#123;</span><br><span class="line">                unlink(x);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="keyword">null</span>; x = x.next) &#123;</span><br><span class="line">            <span class="keyword">if</span> (o.equals(x.item)) &#123;</span><br><span class="line">                unlink(x);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>步骤：</p><ul><li>判断需要删除的元素是否为null，如果是，则用==去判断并删除</li><li>如果要删除的元素不为空，则采用equals方法去判断并删除</li></ul><h4 id="get方法-1"><a href="#get方法-1" class="headerlink" title="get方法"></a><font color="red"><code>get方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200729190750.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> E <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    checkElementIndex(index);</span><br><span class="line">    <span class="comment">//检查脚标</span></span><br><span class="line">    <span class="keyword">return</span> node(index).item;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Node&lt;E&gt; <span class="title">node</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// assert isElementIndex(index);</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (index &lt; (size &gt;&gt; <span class="number">1</span>)) &#123;</span><br><span class="line">          <span class="comment">//下标小于长度的一半就从头遍历</span></span><br><span class="line">            Node&lt;E&gt; x = first;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index; i++)</span><br><span class="line">                x = x.next;</span><br><span class="line">            <span class="keyword">return</span> x;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="comment">//否则，从后面遍历</span></span><br><span class="line">            Node&lt;E&gt; x = last;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = size - <span class="number">1</span>; i &gt; index; i--)</span><br><span class="line">                x = x.prev;</span><br><span class="line">            <span class="keyword">return</span> x;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="set方法-1"><a href="#set方法-1" class="headerlink" title="set方法"></a><font color="red"><code>set方法</code></font></h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> E <span class="title">set</span><span class="params">(<span class="keyword">int</span> index, E element)</span> </span>&#123;</span><br><span class="line">    checkElementIndex(index);</span><br><span class="line">    <span class="comment">// 检查下标</span></span><br><span class="line">    Node&lt;E&gt; x = node(index);</span><br><span class="line">    <span class="comment">//和get方法所用的node方法一样</span></span><br><span class="line">    E oldVal = x.item;</span><br><span class="line">    <span class="comment">//将遍历到的符合的元素赋给oldVal</span></span><br><span class="line">    x.item = element;</span><br><span class="line">    <span class="comment">//赋值为新的值</span></span><br><span class="line">    <span class="keyword">return</span> oldVal;</span><br><span class="line">    <span class="comment">//返回旧的值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h3><h4 id="常用方法演示-1"><a href="#常用方法演示-1" class="headerlink" title="常用方法演示"></a>常用方法演示</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedListText</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * 最好不要这样写，这样属于面向具体编程了</span></span><br><span class="line"><span class="comment">         * 无法达到灵活互换</span></span><br><span class="line"><span class="comment">         * 最好面向接口编程</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        LinkedList arrayList = <span class="keyword">new</span> LinkedList();</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * 采用面向接口编程</span></span><br><span class="line"><span class="comment">         * 使用 Collection 会更灵活，如果 List 不能满足要求</span></span><br><span class="line"><span class="comment">         * 那么可以采用 HashSet，因为 HashSet 也实现了该接口</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        Collection c = <span class="keyword">new</span> LinkedList();</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * 面向接口编程</span></span><br><span class="line"><span class="comment">         * 采用 list 接口可以使用 Collection 里的方法</span></span><br><span class="line"><span class="comment">         * 也可以使用 list 接口扩展的方法</span></span><br><span class="line"><span class="comment">         * List l = new ArrayList();</span></span><br><span class="line"><span class="comment">         * 因为 LinkedList 和 ArrayList 都实现了 List 接口，所以我们可以灵活互换</span></span><br><span class="line"><span class="comment">         * 直接修改为 LinkedList,对我们的程序没有任何影响</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">        List l = <span class="keyword">new</span> LinkedList();</span><br><span class="line">        <span class="comment">//自动装箱，适合于 jdk1.5及以后</span></span><br><span class="line">        l.add(<span class="number">1</span>);</span><br><span class="line">        l.add(<span class="number">3</span>);</span><br><span class="line">        <span class="comment">//jdk1.5 以前，必须如下使用</span></span><br><span class="line">        l.add(<span class="keyword">new</span> Integer(<span class="number">2</span>));</span><br><span class="line">        l.add(<span class="keyword">new</span> Integer(<span class="number">4</span>));</span><br><span class="line">        <span class="comment">//可以加入重复数据</span></span><br><span class="line">        l.add(<span class="number">2</span>);</span><br><span class="line">        <span class="comment">//遍历</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; l.size(); i++) &#123;</span><br><span class="line">            Integer e = (Integer) l.get(i);</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;--------&quot;</span>);</span><br><span class="line">        l.remove(<span class="number">2</span>);</span><br><span class="line">        Iterator iter = l.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iter.hasNext()) &#123;</span><br><span class="line">            Integer v = (Integer) iter.next();</span><br><span class="line">            System.out.println(v);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;--------&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter1 = l.iterator(); iter1.hasNext(); ) &#123;</span><br><span class="line">            Integer v = (Integer) iter1.next();</span><br><span class="line">            System.out.println(v);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(l.contains(<span class="number">3</span>));</span><br><span class="line">        System.out.println(l.isEmpty());</span><br><span class="line">        System.out.println(<span class="string">&quot;---------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        Object[] oArray1 = l.toArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; oArray1.length; i++) &#123;</span><br><span class="line">            Integer v = (Integer) oArray1[i];</span><br><span class="line">            System.out.println(v);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;----------&quot;</span>);</span><br><span class="line">        Integer[] iArray = <span class="keyword">new</span> Integer[l.size()];</span><br><span class="line">        l.toArray(iArray);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; iArray.length; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> v = iArray[i];</span><br><span class="line">            System.out.println(v);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="输出-1"><a href="#输出-1" class="headerlink" title="输出"></a>输出</h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200728194417.png" alt=""></p><h2 id="List接口总结"><a href="#List接口总结" class="headerlink" title="List接口总结"></a>List接口总结</h2><h3 id="ArrayList："><a href="#ArrayList：" class="headerlink" title="ArrayList："></a><strong><code>ArrayList</code></strong>：</h3><ul><li>底层实现是<strong>数组</strong></li><li>在<strong>增删时候，需要数组的拷⻉复制</strong></li></ul><h3 id="LinkedList："><a href="#LinkedList：" class="headerlink" title="LinkedList："></a><strong><code>LinkedList</code></strong>：</h3><ul><li>底层实现是<strong>双向链表</strong>[双向链表⽅便实现往前遍历]</li></ul><h3 id="Vector："><a href="#Vector：" class="headerlink" title="Vector："></a><strong><code>Vector</code></strong>：</h3><ul><li>底层是<strong>数组</strong>，现在已少⽤，被ArrayList替代，原因有两个：</li><li>Vector所有⽅法都是同步，有性能损失。</li><li>Vector初始length是10 超过length时 以100%⽐率增⻓，相⽐于<strong>ArrayList</strong>更多消耗内存。</li></ul><p>总的来说：查询多⽤<strong>ArrayList</strong>，增删多⽤<strong>LinkedList</strong>。</p><h1 id="Set接口"><a href="#Set接口" class="headerlink" title="Set接口"></a><code>Set</code>接口</h1><h2 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h2><div class="note warning flat"><p>元素不可重复</p></div><h2 id="常⽤⼦类-1"><a href="#常⽤⼦类-1" class="headerlink" title="常⽤⼦类"></a>常⽤⼦类</h2><div class="note info no-icon flat"><ol><li>HashSet集合</li></ol><ul><li>底层数据结构是哈希表(是⼀个元素为链表的数组)</li></ul><ol><li>TreeSet集合</li></ol><ul><li>底层数据结构是红⿊树(是⼀个⾃平衡的⼆叉树)</li><li>保证元素的排序⽅式</li></ul><ol><li>LinkedHashSet集合</li></ol><ul><li>底层数据结构由哈希表和链表组成。</li></ul></div><h2 id="方法-1"><a href="#方法-1" class="headerlink" title="方法"></a>方法</h2><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200728195402.png" alt=""></p><h2 id="哈希表"><a href="#哈希表" class="headerlink" title="哈希表"></a><code>哈希表</code></h2><div class="note info no-icon flat"><p>哈希表是一种数据结构，哈希表能够提供快速存取操作。哈希表是基于数组的，所以也存在缺点，数组一旦创建将不能扩展。</p><p>正常的数组，如果需要查询某个值，需要对数组进行遍历，只是一种线性查找，查找的速度比较慢。如果数组中的元素值和下标能够存在明确的对应关系，那么通过数组元素的值就可以换算出数据元素的下标，通过下标就可以快数定位数组元素，这样的数组就是哈希表。</p></div><p>一张哈希表</p><div class="table-container"><table><thead><tr><th>元素值</th><th>10</th><th>11</th><th>12</th><th>13</th><th>14</th><th>15</th><th>16</th><th>17</th><th>18</th></tr></thead><tbody><tr><td>下标</td><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td></tr></tbody></table></div><p>以上的示例元素值和下标的关系为：</p><p>元素下标=元素值-10，此时的示例 hashcode 就是和数组下标一致了,取得 hashcode 方法如下：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//取得 hashCode</span></span><br><span class="line"><span class="function">pubic <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> value – <span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>有了 hashCode 后，我们就可以快速的定位相应的元素，查找到相应的信息</p><h2 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a><code>HashSet</code></h2><div class="note info no-icon flat"><p>HashSet 中的数据是无序的不可重复的。HashSet 按照哈希算法存取数据的，具有非常好性能，它的工作原理是这样的，当向 HashSet 中插入数据的时候，他会调用对象的 hashCode 得到该对象的哈希码，然后根据哈希码计算出该对象插入到集合中的位置。</p></div><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200729215124.png" alt=""></p><h3 id="使用介绍-2"><a href="#使用介绍-2" class="headerlink" title="使用介绍"></a>使用介绍</h3><h4 id="构造方法-2"><a href="#构造方法-2" class="headerlink" title="构造方法"></a><font color="red"><code>构造方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200729215954.png" alt=""></p><p>通过构造方法我们发现，HashSet其实是由HashMap实例支持的，实际上是HashMap的实例。</p><h4 id="Add方法-2"><a href="#Add方法-2" class="headerlink" title="Add方法"></a><font color="red"><code>Add方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200729220438.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//查看hashmap的put方法，若覆盖已有key的旧值，会返回旧值；若没有相应的key则返回null</span></span><br><span class="line">    <span class="keyword">return</span> map.put(e, PRESENT)==<span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//map中的添加方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> putVal(hash(key), key, value, <span class="keyword">false</span>, <span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line">     <span class="comment">//计算当前数据的hash值，并且经过了一些位运算(可以直接将运算后的值看作是数据的hash值)</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> h;</span><br><span class="line">        <span class="keyword">return</span> (key == <span class="keyword">null</span>) ? <span class="number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">final</span> V <span class="title">putVal</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">boolean</span> onlyIfAbsent,</span></span></span><br><span class="line"><span class="function"><span class="params">                   <span class="keyword">boolean</span> evict)</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="keyword">int</span> n, i;</span><br><span class="line">       <span class="comment">//判断table是否为空，或者长度是否为0</span></span><br><span class="line">        <span class="keyword">if</span> ((tab = table) == <span class="keyword">null</span> || (n = tab.length) == <span class="number">0</span>)</span><br><span class="line">            n = (tab = resize()).length;</span><br><span class="line">            <span class="comment">//将table进行了一个初始容量的设置</span></span><br><span class="line">            <span class="comment">//(n - 1) &amp; hash 根据数据的hash值计算出一个索引值,并判断当前索引位置是否有值</span></span><br><span class="line">           <span class="comment">//(a. hash一样，索引值肯定一样 b.hash值不一样，索引值也有可能一样)</span></span><br><span class="line">        <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="keyword">null</span>)</span><br><span class="line">             <span class="comment">//如果没有值，直接进入if，指定添加操作(将当前数据封装成一个Node节点添加到当前数组的空位置)</span></span><br><span class="line">            tab[i] = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">           <span class="comment">//如果该索引位置有值</span></span><br><span class="line">            Node&lt;K,V&gt; e; K k;</span><br><span class="line">          <span class="comment">//判断目前数组中的元素和当前要添加的元素hash值是否一致</span></span><br><span class="line">            <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">                ((k = p.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                e = p;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                <span class="comment">//判断当前元素是否是树节点</span></span><br><span class="line">                e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="keyword">this</span>, tab, hash, key, value);</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="comment">//遍历所有元素判断是否有重复的</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> binCount = <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                  <span class="comment">//判断链表中当前元素的下一个是否有值，</span></span><br><span class="line">                    <span class="keyword">if</span> ((e = p.next) == <span class="keyword">null</span>) &#123;</span><br><span class="line">                      <span class="comment">//如果当前没有元素则直接将新元素，添加到当前链表中</span></span><br><span class="line">                        p.next = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line">                        <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line">                            treeifyBin(tab, hash);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                  <span class="comment">//如果能够执行到此处，说明数组中当前元素的下一个元素是有值，判断下一个元素和新元素是否一致</span></span><br><span class="line">                  <span class="comment">//如果一致，则直接break</span></span><br><span class="line">                    <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                        ((k = e.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                  <span class="comment">//如果不一致，则继续循环，继续往下一个判断</span></span><br><span class="line">                    p = e;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          <span class="comment">//遇到了相同的元素，用该元素覆盖掉相同元素</span></span><br><span class="line">            <span class="keyword">if</span> (e != <span class="keyword">null</span>) &#123; <span class="comment">// existing mapping for key</span></span><br><span class="line">                V oldValue = e.value;</span><br><span class="line">                <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="keyword">null</span>)</span><br><span class="line">                    e.value = value;</span><br><span class="line">                afterNodeAccess(e);</span><br><span class="line">                <span class="keyword">return</span> oldValue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="comment">//修改次数加一</span></span><br><span class="line">        ++modCount;</span><br><span class="line">        <span class="keyword">if</span> (++size &gt; threshold)</span><br><span class="line">            resize();</span><br><span class="line">        afterNodeInsertion(evict);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="remove方法-2"><a href="#remove方法-2" class="headerlink" title="remove方法"></a><font color="red"><code>remove方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200729222109.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//调用HashMap的remove方法</span></span><br><span class="line">    <span class="keyword">return</span> map.remove(o)==PRESENT;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h3><h5 id="常用方法演示-2"><a href="#常用方法演示-2" class="headerlink" title="常用方法演示"></a>常用方法演示</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//它是无序的，不重复</span></span><br><span class="line">        Set set = <span class="keyword">new</span> HashSet();</span><br><span class="line">        set.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">        set.add(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">        set.add(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">        <span class="comment">//输出是无序的</span></span><br><span class="line">        <span class="keyword">for</span> (Iterator iter = set.iterator(); iter.hasNext(); ) &#123;</span><br><span class="line">            System.out.println(iter.next());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//加入重复数据</span></span><br><span class="line">        set.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;-----------&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter = set.iterator(); iter.hasNext(); ) &#123;</span><br><span class="line">            System.out.println(iter.next());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//删除数据</span></span><br><span class="line">        set.remove(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;-----------&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter = set.iterator(); iter.hasNext(); ) &#123;</span><br><span class="line">            System.out.println(iter.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="输出-2"><a href="#输出-2" class="headerlink" title="输出"></a>输出</h5><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200729222748.png" alt=""></p><h2 id="equals和hashCode"><a href="#equals和hashCode" class="headerlink" title="equals和hashCode"></a><code>equals和hashCode</code></h2><h3 id="equals于hashcode的关系"><a href="#equals于hashcode的关系" class="headerlink" title="equals于hashcode的关系"></a>equals于hashcode的关系</h3><div class="note info no-icon flat"><p>equals相等，那么hashCode一定相等</p></div><h4 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">hashCode01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String str1 = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">        String str2 = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">        String str3 = <span class="string">&quot;abcd&quot;</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;str1 equals str2 ,&quot;</span> + str1.equals(str2));</span><br><span class="line">        System.out.println(<span class="string">&quot;str1 equals str3 ,&quot;</span> + str1.equals(str3));</span><br><span class="line">        <span class="comment">//equals 相等，hashcode 一定是相等的</span></span><br><span class="line">        System.out.println(<span class="string">&quot;str1.hashCode=&quot;</span> + str1.hashCode());</span><br><span class="line">        System.out.println(<span class="string">&quot;str2.hashCode=&quot;</span> + str2.hashCode());</span><br><span class="line">        System.out.println(<span class="string">&quot;str3.hashCode=&quot;</span> + str3.hashCode());</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="输出-3"><a href="#输出-3" class="headerlink" title="输出"></a>输出</h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730150903.png" alt=""></p><h3 id="对于重复数据的处理"><a href="#对于重复数据的处理" class="headerlink" title="对于重复数据的处理"></a>对于重复数据的处理</h3><h4 id="演示-1"><a href="#演示-1" class="headerlink" title="演示"></a>演示</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">hashCode</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Person p1 = <span class="keyword">new</span> Person();</span><br><span class="line">    p1.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">    p1.age = <span class="number">20</span>;</span><br><span class="line">    Person p2 = <span class="keyword">new</span> Person();</span><br><span class="line">    p2.name = <span class="string">&quot;李四&quot;</span>;</span><br><span class="line">    p2.age = <span class="number">30</span>;</span><br><span class="line">    Person p3 = <span class="keyword">new</span> Person();</span><br><span class="line">    p3.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">    p3.age = <span class="number">40</span>;</span><br><span class="line">    Set set = <span class="keyword">new</span> HashSet();</span><br><span class="line">    set.add(p1);</span><br><span class="line">    set.add(p2);</span><br><span class="line">    set.add(p3);</span><br><span class="line">    <span class="keyword">for</span> (Iterator iter = set.iterator(); iter.hasNext();) &#123;</span><br><span class="line">        Person p = (Person)iter.next();</span><br><span class="line">        System.out.println(<span class="string">&quot;name=&quot;</span> + p.name + <span class="string">&quot;, age=&quot;</span> + p.age);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;p1.hashCode=&quot;</span> + p1.hashCode());</span><br><span class="line">    System.out.println(<span class="string">&quot;p2.hashCode=&quot;</span> + p2.hashCode());</span><br><span class="line">    System.out.println(<span class="string">&quot;p3.hashCode=&quot;</span> + p3.hashCode());</span><br><span class="line">&#125; &#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="输出-4"><a href="#输出-4" class="headerlink" title="输出"></a>输出</h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730151645.png" alt=""></p><p>加入了重复的数据，因为 hashCode 是不同的，所以会根据算出不同的位置，存储格式</p><div class="table-container"><table><thead><tr><th>Person{张三，20}</th><th>Person{李四，30}</th><th>Person{张三，40}</th></tr></thead><tbody><tr><td>2001049719</td><td>1528902577</td><td>1927950199</td></tr></tbody></table></div><h3 id="重写equals方法"><a href="#重写equals方法" class="headerlink" title="重写equals方法"></a>重写equals方法</h3><p>进一步完善，重写equals方法</p><h4 id="演示-2"><a href="#演示-2" class="headerlink" title="演示"></a>演示</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">hashCode</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Person p1 = <span class="keyword">new</span> Person();</span><br><span class="line">    p1.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">    p1.age = <span class="number">20</span>;</span><br><span class="line">    Person p2 = <span class="keyword">new</span> Person();</span><br><span class="line">    p2.name = <span class="string">&quot;李四&quot;</span>;</span><br><span class="line">    p2.age = <span class="number">30</span>;</span><br><span class="line">    Person p3 = <span class="keyword">new</span> Person();</span><br><span class="line">    p3.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">    p3.age = <span class="number">40</span>;</span><br><span class="line">    Set set = <span class="keyword">new</span> HashSet();</span><br><span class="line">    set.add(p1);</span><br><span class="line">    set.add(p2);</span><br><span class="line">    set.add(p3);</span><br><span class="line">    <span class="keyword">for</span> (Iterator iter = set.iterator(); iter.hasNext();) &#123;</span><br><span class="line">        Person p = (Person)iter.next();</span><br><span class="line">        System.out.println(<span class="string">&quot;name=&quot;</span> + p.name + <span class="string">&quot;, age=&quot;</span> + p.age);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;p1.hashCode=&quot;</span> + p1.hashCode());</span><br><span class="line">    System.out.println(<span class="string">&quot;p2.hashCode=&quot;</span> + p2.hashCode());</span><br><span class="line">    System.out.println(<span class="string">&quot;p3.hashCode=&quot;</span> + p3.hashCode());</span><br><span class="line">&#125; &#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">  <span class="comment">//重写equals方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == obj) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> Person) &#123;</span><br><span class="line">            Person p = (Person)obj;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.name.equals(p.name);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="输出-5"><a href="#输出-5" class="headerlink" title="输出"></a>输出</h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730152425.png" alt=""></p><p>以上仍然存在重复数据，在 Person 中重写了 equlas 方法，能够正确的比较出两个 Person 是相等的还是不等的，但是为什么 HashSet 中还是放入了重复数据？</p><p>因为 Person 对象的 hashCode不同，所以它就换算出了不同的位置，让后就会把相关的值放到不同的位置上，就忽略 equlas，所以我们必须重写 hashCode 方法</p><h3 id="重写HashCode方法"><a href="#重写HashCode方法" class="headerlink" title="重写HashCode方法"></a>重写HashCode方法</h3><h4 id="演示-3"><a href="#演示-3" class="headerlink" title="演示"></a>演示</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">hashCode</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Person p1 = <span class="keyword">new</span> Person();</span><br><span class="line">    p1.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">    p1.age = <span class="number">20</span>;</span><br><span class="line">    Person p2 = <span class="keyword">new</span> Person();</span><br><span class="line">    p2.name = <span class="string">&quot;李四&quot;</span>;</span><br><span class="line">    p2.age = <span class="number">30</span>;</span><br><span class="line">    Person p3 = <span class="keyword">new</span> Person();</span><br><span class="line">    p3.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">    p3.age = <span class="number">40</span>;</span><br><span class="line">    Set set = <span class="keyword">new</span> HashSet();</span><br><span class="line">    set.add(p1);</span><br><span class="line">    set.add(p2);</span><br><span class="line">    set.add(p3);</span><br><span class="line">    <span class="keyword">for</span> (Iterator iter = set.iterator(); iter.hasNext();) &#123;</span><br><span class="line">        Person p = (Person)iter.next();</span><br><span class="line">        System.out.println(<span class="string">&quot;name=&quot;</span> + p.name + <span class="string">&quot;, age=&quot;</span> + p.age);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;p1.hashCode=&quot;</span> + p1.hashCode());</span><br><span class="line">    System.out.println(<span class="string">&quot;p2.hashCode=&quot;</span> + p2.hashCode());</span><br><span class="line">    System.out.println(<span class="string">&quot;p3.hashCode=&quot;</span> + p3.hashCode());</span><br><span class="line">&#125; &#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">  <span class="comment">//重写hashCode方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (name==<span class="keyword">null</span>)?<span class="number">0</span>:name.hashCode();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="输出-6"><a href="#输出-6" class="headerlink" title="输出"></a>输出</h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730152710.png" alt=""></p><p>以上示例，张三的 hashCode 相同，当两个对象的 equals 不同，所以认为值是以不一样的，那 么 java 会随机换算出一个新的位置，放重复数据</p><div class="table-container"><table><thead><tr><th>Person{张三，20}</th><th>Person{李四，30}</th><th>Person{张三，40}</th></tr></thead><tbody><tr><td>774889</td><td>842061</td><td>774889</td></tr></tbody></table></div><h3 id="覆盖-equals和hashCode方法"><a href="#覆盖-equals和hashCode方法" class="headerlink" title="覆盖 equals和hashCode方法"></a>覆盖 equals和hashCode方法</h3><p>进一步改善，覆盖 equals，覆盖 hashCode</p><h4 id="演示-4"><a href="#演示-4" class="headerlink" title="演示"></a>演示</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">hashCode</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Person p1 = <span class="keyword">new</span> Person();</span><br><span class="line">    p1.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">    p1.age = <span class="number">20</span>;</span><br><span class="line">    Person p2 = <span class="keyword">new</span> Person();</span><br><span class="line">    p2.name = <span class="string">&quot;李四&quot;</span>;</span><br><span class="line">    p2.age = <span class="number">30</span>;</span><br><span class="line">    Person p3 = <span class="keyword">new</span> Person();</span><br><span class="line">    p3.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">    p3.age = <span class="number">40</span>;</span><br><span class="line">    Set set = <span class="keyword">new</span> HashSet();</span><br><span class="line">    set.add(p1);</span><br><span class="line">    set.add(p2);</span><br><span class="line">    set.add(p3);</span><br><span class="line">    <span class="keyword">for</span> (Iterator iter = set.iterator(); iter.hasNext();) &#123;</span><br><span class="line">        Person p = (Person)iter.next();</span><br><span class="line">        System.out.println(<span class="string">&quot;name=&quot;</span> + p.name + <span class="string">&quot;, age=&quot;</span> + p.age);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;p1.hashCode=&quot;</span> + p1.hashCode());</span><br><span class="line">    System.out.println(<span class="string">&quot;p2.hashCode=&quot;</span> + p2.hashCode());</span><br><span class="line">    System.out.println(<span class="string">&quot;p3.hashCode=&quot;</span> + p3.hashCode());</span><br><span class="line">&#125; &#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="comment">//重写hashCode方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (name==<span class="keyword">null</span>)?<span class="number">0</span>:name.hashCode();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//重写equals方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == obj) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> Person) &#123;</span><br><span class="line">            Person p = (Person)obj;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.name.equals(p.name);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="输出-7"><a href="#输出-7" class="headerlink" title="输出"></a>输出</h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730153110.png" alt=""></p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><div class="note info no-icon flat"><ul><li><font color="red">**向 `HashSet` 或 `HashMap` 中加入数据时必须同时重写 `equals `和 `hashCode` 方法，应该养成一种习惯重写`equals `的同时最好同时重写 `hashCode`**</font></li><li><strong><font color="red">两个对象<code>equals</code>相等，那么它的 <code>hashcode</code>相等</font></strong></li><li><strong><font color="red">两个对象 <code>equals</code> 不相等，那么它的 <code>hashcode</code> 并不要求它不相等，但一般建议不相等</font></strong></li><li><strong><font color="red"><code>hashcode</code> 相等不代表两个对象相等（采用 <code>equals</code>比较）</font></strong></li></ul></div><h2 id="TreeSet"><a href="#TreeSet" class="headerlink" title="TreeSet"></a><code>TreeSet</code></h2><div class="note info no-icon flat"><ul><li>TreeSet是一个包含有序的且没有重复元素的集合，通过TreeMap实现</li><li>TreeSet 可以对 Set 集合进行排序，默认自然排序（即升序）</li></ul></div><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730161646.png" alt=""></p><h3 id="使用介绍-3"><a href="#使用介绍-3" class="headerlink" title="使用介绍"></a>使用介绍</h3><h4 id="构造方法-3"><a href="#构造方法-3" class="headerlink" title="构造方法"></a><font color="red"><code>构造方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730162252.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//相同包下可以访问的构造方法，将指定的m赋值为m </span></span><br><span class="line">TreeSet(NavigableMap&lt;E,Object&gt; m) &#123;</span><br><span class="line">    <span class="keyword">this</span>.m = m;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//无参构造方法，创建一个空的TreeMap对象，并调用上面的构造方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">TreeSet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>(<span class="keyword">new</span> TreeMap&lt;E,Object&gt;());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//指定比较器，并用指定的比较器创建TreeMap对象</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">TreeSet</span><span class="params">(Comparator&lt;? <span class="keyword">super</span> E&gt; comparator)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>(<span class="keyword">new</span> TreeMap&lt;&gt;(comparator));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//将指定的集合C转化为TreeSet</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">TreeSet</span><span class="params">(Collection&lt;? extends E&gt; c)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>();</span><br><span class="line">    addAll(c);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//将SortedMap中的元素转化为TreeMap对象</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">TreeSet</span><span class="params">(SortedSet&lt;E&gt; s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>(s.comparator());</span><br><span class="line">    addAll(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>TreeSet是有序的，也提供了制定比较器的构造函数，如果没有提供比较器，则采用key的自然顺序进行比较大小，如果指定的比较器，则采用指定的比较器，进行key值大小的比较。</p><h4 id="Add方法-3"><a href="#Add方法-3" class="headerlink" title="Add方法"></a><font color="red"><code>Add方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730162536.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//添加元素，调用m.put方法实现</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> m.put(e, PRESENT)==<span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="remove方法-3"><a href="#remove方法-3" class="headerlink" title="remove方法"></a><font color="red"><code>remove方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730163056.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//删除方法，调用m.remove()方法实现</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> m.remove(o)==PRESENT;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><h4 id="常用方法演示-3"><a href="#常用方法演示-3" class="headerlink" title="常用方法演示"></a>常用方法演示</h4><h5 id="对Set集合进行排序"><a href="#对Set集合进行排序" class="headerlink" title="对Set集合进行排序"></a>对Set集合进行排序</h5><h6 id="代码-3"><a href="#代码-3" class="headerlink" title="代码"></a>代码</h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">tree</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">            Set set = <span class="keyword">new</span> TreeSet();</span><br><span class="line">            set.add(<span class="number">9</span>);</span><br><span class="line">            set.add(<span class="number">2</span>);</span><br><span class="line">            set.add(<span class="number">5</span>);</span><br><span class="line">            set.add(<span class="number">1</span>);</span><br><span class="line">            <span class="comment">//不能放入重复数据</span></span><br><span class="line">            set.add(<span class="number">5</span>);</span><br><span class="line">            <span class="keyword">for</span> (Iterator iter = set.iterator(); iter.hasNext(); ) </span><br><span class="line">            &#123;</span><br><span class="line">                Integer v = (Integer) iter.next();</span><br><span class="line">                System.out.println(v);</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="输出-8"><a href="#输出-8" class="headerlink" title="输出"></a>输出</h6><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730163504.png" alt=""></p><div class="note warning flat"><p>排序只能对一种类型排序</p></div><h5 id="对对象进行排序"><a href="#对对象进行排序" class="headerlink" title="对对象进行排序"></a>对对象进行排序</h5><h6 id="代码-4"><a href="#代码-4" class="headerlink" title="代码"></a>代码</h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSetTest01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person();</span><br><span class="line">        p1.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">        p1.age = <span class="number">20</span>;</span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person();</span><br><span class="line">        p2.name = <span class="string">&quot;李四&quot;</span>;</span><br><span class="line">        p2.age = <span class="number">30</span>;</span><br><span class="line">        Person p3 = <span class="keyword">new</span> Person();</span><br><span class="line">        p3.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">        p3.age = <span class="number">40</span>;</span><br><span class="line">        Set set = <span class="keyword">new</span> TreeSet();</span><br><span class="line">        set.add(p1);</span><br><span class="line">        set.add(p2);</span><br><span class="line">        set.add(p3);</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter = set.iterator(); iter.hasNext(); ) &#123;</span><br><span class="line">            Person p = (Person) iter.next();</span><br><span class="line">            System.out.println(<span class="string">&quot;name=&quot;</span> + p.name + <span class="string">&quot;, age=&quot;</span> + p.age);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="输出-9"><a href="#输出-9" class="headerlink" title="输出"></a>输出</h6><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730164349.png" alt=""></p><p>出现错误，因为放到 TreeSet 中 TreeSet 会对其进行排序，那么必须实现 Comparable 接口，而 Person 没有实现，所以出现了错误，如：基本类型的包装类和 String 他们都是可以排序的，他们都实现 Comparable 接口。</p><h5 id="实现-Comparable-接口完成排序"><a href="#实现-Comparable-接口完成排序" class="headerlink" title="实现 Comparable 接口完成排序"></a><strong>实现</strong> <strong>Comparable</strong> <strong>接口完成排序</strong></h5><h6 id="代码-5"><a href="#代码-5" class="headerlink" title="代码"></a>代码</h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSetTest01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person();</span><br><span class="line">        p1.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">        p1.age = <span class="number">20</span>;</span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person();</span><br><span class="line">        p2.name = <span class="string">&quot;李四&quot;</span>;</span><br><span class="line">        p2.age = <span class="number">30</span>;</span><br><span class="line">        Person p3 = <span class="keyword">new</span> Person();</span><br><span class="line">        p3.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">        p3.age = <span class="number">40</span>;</span><br><span class="line">        Set set = <span class="keyword">new</span> TreeSet();</span><br><span class="line">        set.add(p1);</span><br><span class="line">        set.add(p2);</span><br><span class="line">        set.add(p3);</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter = set.iterator(); iter.hasNext(); ) &#123;</span><br><span class="line">            Person p = (Person) iter.next();</span><br><span class="line">            System.out.println(<span class="string">&quot;name=&quot;</span> + p.name + <span class="string">&quot;, age=&quot;</span> + p.age);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Comparable</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//如果覆盖了 equals，最好保证 equals 和 compareto 在</span></span><br><span class="line">    <span class="comment">//相等情况下的比较规则是一致的</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (o <span class="keyword">instanceof</span> Person) &#123;</span><br><span class="line">            Person p = (Person) o;</span><br><span class="line">            <span class="comment">//升序</span></span><br><span class="line">            <span class="comment">//return (this.age - p.age);</span></span><br><span class="line">            <span class="comment">// 降序</span></span><br><span class="line">            <span class="keyword">return</span> (p.age - <span class="keyword">this</span>.age);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;非法参数，o=&quot;</span> + o);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="输出-10"><a href="#输出-10" class="headerlink" title="输出"></a>输出</h6><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730164845.png" alt=""></p><h5 id="实现-Comparator-接口完成排序"><a href="#实现-Comparator-接口完成排序" class="headerlink" title="实现 Comparator 接口完成排序"></a><strong>实现</strong> <strong>Comparator</strong> <strong>接口完成排序</strong></h5><h6 id="代码-6"><a href="#代码-6" class="headerlink" title="代码"></a>代码</h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSetTest01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person();</span><br><span class="line">        p1.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">        p1.age = <span class="number">20</span>;</span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person();</span><br><span class="line">        p2.name = <span class="string">&quot;李四&quot;</span>;</span><br><span class="line">        p2.age = <span class="number">30</span>;</span><br><span class="line">        Person p3 = <span class="keyword">new</span> Person();</span><br><span class="line">        p3.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">        p3.age = <span class="number">40</span>;</span><br><span class="line">        Comparator person = <span class="keyword">new</span> Person();</span><br><span class="line">        Set set = <span class="keyword">new</span> TreeSet(person);</span><br><span class="line">        set.add(p1);</span><br><span class="line">        set.add(p2);</span><br><span class="line">        set.add(p3);</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter = set.iterator(); iter.hasNext(); ) &#123;</span><br><span class="line">            Person p = (Person) iter.next();</span><br><span class="line">            System.out.println(<span class="string">&quot;name=&quot;</span> + p.name + <span class="string">&quot;, age=&quot;</span> + p.age);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Comparator</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!(o1 <span class="keyword">instanceof</span> Person)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;非法参数，o1=&quot;</span> + o1);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!(o2 <span class="keyword">instanceof</span> Person)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;非法参数，o2=&quot;</span> + o2);</span><br><span class="line">        &#125;</span><br><span class="line">        Person p1 = (Person) o1;</span><br><span class="line">        Person p2 = (Person) o2;</span><br><span class="line">        <span class="keyword">return</span> p1.age - p2.age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="输出-11"><a href="#输出-11" class="headerlink" title="输出"></a>输出</h6><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730165605.png" alt=""></p><h5 id="采用匿名类完成-Comparator-的实现"><a href="#采用匿名类完成-Comparator-的实现" class="headerlink" title="采用匿名类完成 Comparator 的实现"></a><strong>采用匿名类完成</strong> <strong>Comparator</strong> <strong>的实现</strong></h5><h6 id="代码-7"><a href="#代码-7" class="headerlink" title="代码"></a>代码</h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSetTest01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person();</span><br><span class="line">        p1.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">        p1.age = <span class="number">20</span>;</span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person();</span><br><span class="line">        p2.name = <span class="string">&quot;李四&quot;</span>;</span><br><span class="line">        p2.age = <span class="number">30</span>;</span><br><span class="line">        Person p3 = <span class="keyword">new</span> Person();</span><br><span class="line">        p3.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">        p3.age = <span class="number">40</span>;</span><br><span class="line">        Set set = <span class="keyword">new</span> TreeSet(<span class="keyword">new</span> Comparator() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (!(o1 <span class="keyword">instanceof</span> Person)) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;非法参数，o1=&quot;</span> + o1);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (!(o2 <span class="keyword">instanceof</span> Person)) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;非法参数，o2=&quot;</span> + o2);</span><br><span class="line">                &#125;</span><br><span class="line">                Person p1 = (Person) o1;</span><br><span class="line">                Person p2 = (Person) o2;</span><br><span class="line">                <span class="keyword">return</span> p1.age - p2.age;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        set.add(p1);</span><br><span class="line">        set.add(p2);</span><br><span class="line">        set.add(p3);</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter = set.iterator(); iter.hasNext(); ) &#123;</span><br><span class="line">            Person p = (Person) iter.next();</span><br><span class="line">            System.out.println(<span class="string">&quot;name=&quot;</span> + p.name + <span class="string">&quot;, age=&quot;</span> + p.age);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="输出-12"><a href="#输出-12" class="headerlink" title="输出"></a>输出</h6><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730165605.png" alt=""></p><h3 id="Comparable-和-Comparator-的区别"><a href="#Comparable-和-Comparator-的区别" class="headerlink" title="Comparable 和 Comparator 的区别"></a><strong>Comparable</strong> <strong>和</strong> <strong>Comparator</strong> <strong>的区别</strong></h3><div class="note info no-icon flat"><p>一个类实现了 Camparable 接口则表明这个类的对象之间是可以相互比较的，这个类对象组成的集合就可以直接使用 sort 方法排序。</p><p>Comparator 可以看成一种算法的实现，将算法和数据分离，Comparator 也可以在下面两种环境下使用：</p><ol><li><p>类的没有考虑到比较问题而没有实现 Comparable，可以通过 Comparator 来实现排序而不必改变对象本身</p></li><li><p>可以使用多种排序标准，比如升序、降序等</p></li></ol></div><h1 id="Map接口"><a href="#Map接口" class="headerlink" title="Map接口"></a><code>Map</code>接口</h1><h2 id="特点-2"><a href="#特点-2" class="headerlink" title="特点"></a>特点</h2><div class="note warning flat"><ul><li>map集合特点就是采用了 Key-value键值对映射的方式进行存储</li><li>key在Map里面是唯一的但是value可以重复，一个key对应一个value。</li><li>key是无序、唯一的</li><li>value是无序不唯一的</li><li>Map接口有两个集合HashMap和TreeMap及LinkedHashMap</li><li>如果使用</li><li>自定类作为 Map 的键对象，必须复写 equals 和 hashCode 方法</li></ul></div><h2 id="常用子类"><a href="#常用子类" class="headerlink" title="常用子类"></a>常用子类</h2><div class="note info no-icon flat"><ol><li>HashMap集合</li></ol><ul><li>采用哈希表的存储结构所以里面的数据是无序但是唯一的</li></ul><ol><li>TreeMap集合</li></ol><ul><li>采用的是二叉树的存储方式里面的数据是唯一而且有序的而且一般是按升序的方式排列</li></ul><ol><li>LinkedHashMap集合</li></ol><ul><li>是HashMap的进化版它比HashMap速度更快而且还可以保证唯一性和有序性。（它的实现方式是哈希表和链表的结合）</li></ul></div><h2 id="方法-2"><a href="#方法-2" class="headerlink" title="方法"></a>方法</h2><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730170846.png" alt=""></p><h2 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a><code>HashMap</code></h2><div class="note info no-icon flat"><ul><li>HashMap是一种数组加链表的结构</li><li>HashMap是综合了数组和链表的特性，实现了即查询容易，插入和删除也容易的数据结构</li></ul></div><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730171559.png" alt=""></p><h3 id="使用介绍-4"><a href="#使用介绍-4" class="headerlink" title="使用介绍"></a>使用介绍</h3><h4 id="构造方法-4"><a href="#构造方法-4" class="headerlink" title="构造方法"></a><font color="red"><code>构造方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730173644.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.loadFactor = DEFAULT_LOAD_FACTOR; </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">(<span class="keyword">int</span> initialCapacity, <span class="keyword">float</span> loadFactor)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 初始容量不能小于0</span></span><br><span class="line">    <span class="keyword">if</span> (initialCapacity &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Illegal initial capacity: &quot;</span> + initialCapacity);</span><br><span class="line">    <span class="comment">// 初始容量不能大于MAXIMUM_CAPACITY</span></span><br><span class="line">    <span class="keyword">if</span> (initialCapacity &gt; MAXIMUM_CAPACITY)</span><br><span class="line">        initialCapacity = MAXIMUM_CAPACITY;</span><br><span class="line">    <span class="comment">// 校验负载因子合法性</span></span><br><span class="line">    <span class="keyword">if</span> (loadFactor &lt;= <span class="number">0</span> || Float.isNaN(loadFactor))</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Illegal load factor: &quot;</span> + loadFactor);</span><br><span class="line">    <span class="keyword">this</span>.loadFactor = loadFactor;</span><br><span class="line">    <span class="comment">// 计算下次resize的阈值</span></span><br><span class="line">    <span class="keyword">this</span>.threshold = tableSizeFor(initialCapacity);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">(<span class="keyword">int</span> initialCapacity)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>(initialCapacity, DEFAULT_LOAD_FACTOR);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">(Map&lt;? extends K, ? extends V&gt; m)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.loadFactor = DEFAULT_LOAD_FACTOR;</span><br><span class="line">    putMapEntries(m, <span class="keyword">false</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="put方法"><a href="#put方法" class="headerlink" title="put方法"></a><font color="red"><code>put方法</code></font></h4><p>存入元素（键—-值）</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730174012.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> putVal(hash(key), key, value, <span class="keyword">false</span>, <span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">final</span> V <span class="title">putVal</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">boolean</span> onlyIfAbsent,</span></span></span><br><span class="line"><span class="function"><span class="params">               <span class="keyword">boolean</span> evict)</span> </span>&#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="keyword">int</span> n, i;</span><br><span class="line">    <span class="comment">// 如果map还是空的，则先开始初始化，table是map中用于存放索引的表</span></span><br><span class="line">    <span class="keyword">if</span> ((tab = table) == <span class="keyword">null</span> || (n = tab.length) == <span class="number">0</span>) &#123;</span><br><span class="line">        n = (tab = resize()).length;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 使用hash与数组长度减一的值进行异或得到分散的数组下标，预示着按照计算现在的</span></span><br><span class="line">    <span class="comment">// key会存放到这个位置上，如果这个位置上没有值，那么直接新建k-v节点存放</span></span><br><span class="line">    <span class="comment">// 其中长度n是一个2的幂次数</span></span><br><span class="line">    <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="keyword">null</span>) &#123;</span><br><span class="line">        tab[i] = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果走到else这一步，说明key索引到的数组位置上已经存在内容，即出现了碰撞</span></span><br><span class="line">    <span class="comment">// 这个时候需要更为复杂处理碰撞的方式来处理，如链表和树</span></span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        Node&lt;K,V&gt; e; K k;</span><br><span class="line">        <span class="comment">// 其中p已经在上面通过计算索引找到了，即发生碰撞那一个节点</span></span><br><span class="line">        <span class="comment">// 比较，如果该节点的hash和当前的hash相等，而且key也相等或者</span></span><br><span class="line">        <span class="comment">// 在key不等于null的情况下key的内容也相等，则说明两个key是</span></span><br><span class="line">        <span class="comment">// 一样的，则将当前节点p用临时节点e保存</span></span><br><span class="line">        <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">            ((k = p.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k)))) &#123;</span><br><span class="line">            e = p;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 如果当前节点p是（红黑）树类型的节点，则需要特殊处理</span></span><br><span class="line">        <span class="comment">// 如果是树，则说明碰撞已经开始用树来处理，后续的数据结构都是树而非</span></span><br><span class="line">        <span class="comment">// 列表了</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode) &#123;</span><br><span class="line">            <span class="comment">// 其中this表示当前HashMap, tab为map中的数组</span></span><br><span class="line">            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="keyword">this</span>, tab, hash, key, value);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> binCount = <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                <span class="comment">// 如果当前碰撞到的节点没有后续节点，则直接新建节点并追加</span></span><br><span class="line">                <span class="keyword">if</span> ((e = p.next) == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    p.next = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line">                    <span class="comment">// TREEIFY_THRESHOLD = 8</span></span><br><span class="line">                    <span class="comment">// 从0开始的，如果到了7则说明满8了，这个时候就需要转</span></span><br><span class="line">                    <span class="comment">// 重新确定是否是扩容还是转用红黑树了</span></span><br><span class="line">                    <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line">                        treeifyBin(tab, hash);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 找到了碰撞节点中，key完全相等的节点，则用新节点替换老节点</span></span><br><span class="line">                <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                    ((k = e.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                p = e;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 此时的e是保存的被碰撞的那个节点，即老节点</span></span><br><span class="line">        <span class="keyword">if</span> (e != <span class="keyword">null</span>) &#123; <span class="comment">// existing mapping for key</span></span><br><span class="line">            V oldValue = e.value;</span><br><span class="line">            <span class="comment">// onlyIfAbsent是方法的调用参数，表示是否替换已存在的值，</span></span><br><span class="line">            <span class="comment">// 在默认的put方法中这个值是false，所以这里会用新值替换旧值</span></span><br><span class="line">            <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="keyword">null</span>)</span><br><span class="line">                e.value = value;</span><br><span class="line">            <span class="comment">// Callbacks to allow LinkedHashMap post-actions</span></span><br><span class="line">            afterNodeAccess(e);</span><br><span class="line">            <span class="keyword">return</span> oldValue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// map变更性操作计数器</span></span><br><span class="line">    <span class="comment">// 比如map结构化的变更像内容增减或者rehash，这将直接导致外部map的并发</span></span><br><span class="line">    <span class="comment">// 迭代引起fail-fast问题，该值就是比较的基础</span></span><br><span class="line">    ++modCount;</span><br><span class="line">    <span class="comment">// size即map中包括k-v数量的多少</span></span><br><span class="line">    <span class="comment">// 当map中的内容大小已经触及到扩容阈值时，则需要扩容了</span></span><br><span class="line">    <span class="keyword">if</span> (++size &gt; threshold)</span><br><span class="line">        resize();</span><br><span class="line">    <span class="comment">// Callbacks to allow LinkedHashMap post-actions</span></span><br><span class="line">    afterNodeInsertion(evict);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="get方法-2"><a href="#get方法-2" class="headerlink" title="get方法"></a><font color="red"><code>get方法</code></font></h4><p>取出元素（键—-值）</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730174232.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">get</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt; e;</span><br><span class="line">       <span class="comment">//调用getNode方法</span></span><br><span class="line">        <span class="keyword">return</span> (e = getNode(hash(key), key)) == <span class="keyword">null</span> ? <span class="keyword">null</span> : e.value;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//getNode方法</span></span><br><span class="line"><span class="function"><span class="keyword">final</span> Node&lt;K,V&gt; <span class="title">getNode</span><span class="params">(<span class="keyword">int</span> hash, Object key)</span> </span>&#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; <span class="keyword">int</span> n; K k;</span><br><span class="line">    <span class="keyword">if</span> ((tab = table) != <span class="keyword">null</span> &amp;&amp; (n = tab.length) &gt; <span class="number">0</span> &amp;&amp;</span><br><span class="line">        (first = tab[(n - <span class="number">1</span>) &amp; hash]) != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (first.hash == hash &amp;&amp; <span class="comment">// always check first node</span></span><br><span class="line">            ((k = first.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">            <span class="keyword">return</span> first;</span><br><span class="line">        <span class="keyword">if</span> ((e = first.next) != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (first <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                <span class="keyword">return</span> ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);</span><br><span class="line">            <span class="keyword">do</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                    ((k = e.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                    <span class="keyword">return</span> e;</span><br><span class="line">            &#125; <span class="keyword">while</span> ((e = e.next) != <span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>步骤：</p><ul><li>通过 hash &amp; (table.length - 1)获取该key对应的数据节点的hash槽</li><li>判断首节点是否为空, 为空则直接返回空</li><li>再判断首节点.key 是否和目标值相同, 相同则直接返回(首节点不用区分链表还是红黑树)</li><li>首节点.next为空, 则直接返回空</li><li>首节点是树形节点, 则进入红黑树数的取值流程, 并返回结果</li><li>进入链表的取值流程, 并返回结果</li></ul><h4 id="remove方法-4"><a href="#remove方法-4" class="headerlink" title="remove方法"></a><font color="red"><code>remove方法</code></font></h4><p>删除元素</p><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730174953.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">remove</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">    Node&lt;K,V&gt; e;</span><br><span class="line">    <span class="keyword">return</span> (e = removeNode(hash(key), key, <span class="keyword">null</span>, <span class="keyword">false</span>, <span class="keyword">true</span>)) == <span class="keyword">null</span> ?</span><br><span class="line">        <span class="keyword">null</span> : e.value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">final</span> Node&lt;K,V&gt; <span class="title">removeNode</span><span class="params">(<span class="keyword">int</span> hash, Object key, Object value,</span></span></span><br><span class="line"><span class="function"><span class="params">                               <span class="keyword">boolean</span> matchValue, <span class="keyword">boolean</span> movable)</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="keyword">int</span> n, index;</span><br><span class="line">        <span class="keyword">if</span> ((tab = table) != <span class="keyword">null</span> &amp;&amp; (n = tab.length) &gt; <span class="number">0</span> &amp;&amp;</span><br><span class="line">            (p = tab[index = (n - <span class="number">1</span>) &amp; hash]) != <span class="keyword">null</span>) &#123;</span><br><span class="line">            Node&lt;K,V&gt; node = <span class="keyword">null</span>, e; K k; V v;</span><br><span class="line">            <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">                ((k = p.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                node = p;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> ((e = p.next) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                    node = ((TreeNode&lt;K,V&gt;)p).getTreeNode(hash, key);</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">do</span> &#123;</span><br><span class="line">                        <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                            ((k = e.key) == key ||</span><br><span class="line">                             (key != <span class="keyword">null</span> &amp;&amp; key.equals(k)))) &#123;</span><br><span class="line">                            node = e;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        p = e;</span><br><span class="line">                    &#125; <span class="keyword">while</span> ((e = e.next) != <span class="keyword">null</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node != <span class="keyword">null</span> &amp;&amp; (!matchValue || (v = node.value) == value ||</span><br><span class="line">                                 (value != <span class="keyword">null</span> &amp;&amp; value.equals(v)))) &#123;</span><br><span class="line">                <span class="keyword">if</span> (node <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                    ((TreeNode&lt;K,V&gt;)node).removeTreeNode(<span class="keyword">this</span>, tab, movable);</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (node == p)</span><br><span class="line">                    tab[index] = node.next;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    p.next = node.next;</span><br><span class="line">                ++modCount;</span><br><span class="line">                --size;</span><br><span class="line">                afterNodeRemoval(node);</span><br><span class="line">                <span class="keyword">return</span> node;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="常用方法演示-4"><a href="#常用方法演示-4" class="headerlink" title="常用方法演示"></a>常用方法演示</h3><h4 id="基本方法"><a href="#基本方法" class="headerlink" title="基本方法"></a>基本方法</h4><h5 id="代码-8"><a href="#代码-8" class="headerlink" title="代码"></a>代码</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MapText</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Map map = <span class="keyword">new</span> HashMap();</span><br><span class="line">        map.put(<span class="string">&quot;1001&quot;</span>, <span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;1002&quot;</span>, <span class="string">&quot;李四&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;1003&quot;</span>, <span class="string">&quot;王五&quot;</span>);</span><br><span class="line">        <span class="comment">//采用 entrySet 遍历 Map</span></span><br><span class="line">        Set entrySet = map.entrySet();</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter = entrySet.iterator(); iter.hasNext(); ) &#123;</span><br><span class="line">            Map.Entry entry = (Map.Entry) iter.next();</span><br><span class="line">          <span class="comment">//使用 entryset和getValue取出值</span></span><br><span class="line">            System.out.println(entry.getKey() + <span class="string">&quot;, &quot;</span> + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="comment">//取得 map 中指定的 key</span></span><br><span class="line">        Object v = map.get(<span class="string">&quot;1003&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;1003==&quot;</span> + v);</span><br><span class="line">        System.out.println(<span class="string">&quot;----------&quot;</span>);</span><br><span class="line">        <span class="comment">//如果存在相同的条目，会采用此条目替换</span></span><br><span class="line">        <span class="comment">//但 map 中始终保持的是不重复的数据</span></span><br><span class="line">        <span class="comment">//主要依靠 key 开判断是否重复，和 value 没有任何关系</span></span><br><span class="line">        map.put(<span class="string">&quot;1003&quot;</span>, <span class="string">&quot;赵柳&quot;</span>);</span><br><span class="line">        <span class="comment">//采用 keySet 和 get 取得 map 中的所有数据</span></span><br><span class="line">        <span class="keyword">for</span> (Iterator iter = map.keySet().iterator(); iter.hasNext(); ) &#123;</span><br><span class="line">            String k = (String) iter.next();</span><br><span class="line">          <span class="comment">//使用 keyset和get(K)取之----根据键取值</span></span><br><span class="line">            System.out.println(k + <span class="string">&quot;, &quot;</span> + map.get(k));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="输出-13"><a href="#输出-13" class="headerlink" title="输出"></a>输出</h5><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730180303.png" alt=""></p><h4 id="采用自定义类作为-key"><a href="#采用自定义类作为-key" class="headerlink" title="采用自定义类作为 key"></a><strong>采用自定义类作为</strong> <strong>key</strong></h4><h5 id="代码-9"><a href="#代码-9" class="headerlink" title="代码"></a>代码</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashMapText</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        IdCard idCard1 = <span class="keyword">new</span> IdCard();</span><br><span class="line">        idCard1.cardNo = <span class="number">223243244243243L</span>;</span><br><span class="line">        Person person1 = <span class="keyword">new</span> Person();</span><br><span class="line">        person1.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">        IdCard idCard2 = <span class="keyword">new</span> IdCard();</span><br><span class="line">        idCard2.cardNo = <span class="number">223243244244343L</span>;</span><br><span class="line">        Person person2 = <span class="keyword">new</span> Person();</span><br><span class="line">        person2.name = <span class="string">&quot;李四&quot;</span>;</span><br><span class="line">        IdCard idCard3 = <span class="keyword">new</span> IdCard();</span><br><span class="line">        idCard3.cardNo = <span class="number">223243244243243L</span>;</span><br><span class="line">        Person person3 = <span class="keyword">new</span> Person();</span><br><span class="line">        person3.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">        Map map = <span class="keyword">new</span> HashMap();</span><br><span class="line">        map.put(idCard1, person1);</span><br><span class="line">        map.put(idCard2, person2);</span><br><span class="line">        map.put(idCard3, person3);</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter = map.entrySet().iterator(); iter.hasNext(); ) &#123;</span><br><span class="line">            Map.Entry entry = (Map.Entry) iter.next();</span><br><span class="line">            IdCard idCard = (IdCard) entry.getKey();</span><br><span class="line">            Person person = (Person) entry.getValue();</span><br><span class="line">            <span class="comment">//使用 entryset和getValue取出值</span></span><br><span class="line">            System.out.println(idCard.cardNo + <span class="string">&quot;, &quot;</span> + person.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IdCard</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> cardNo;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="输出-14"><a href="#输出-14" class="headerlink" title="输出"></a>输出</h5><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730181347.png" alt=""></p><p>加入了重复的数据，因为 HashMap 的底层实现采用的是 hash 表，所以 Map 的 key 必须覆盖hashcode 和 equals 方法</p><h4 id="重写equals-和-hashCode-方法"><a href="#重写equals-和-hashCode-方法" class="headerlink" title="重写equals 和 hashCode 方法"></a><strong>重写equals</strong> <strong>和</strong> <strong>hashCode</strong> <strong>方法</strong></h4><h5 id="代码-10"><a href="#代码-10" class="headerlink" title="代码"></a>代码</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashMapText</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        IdCard idCard1 = <span class="keyword">new</span> IdCard();</span><br><span class="line">        idCard1.cardNo = <span class="number">223243244243243L</span>;</span><br><span class="line">        Person person1 = <span class="keyword">new</span> Person();</span><br><span class="line">        person1.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">        IdCard idCard2 = <span class="keyword">new</span> IdCard();</span><br><span class="line">        idCard2.cardNo = <span class="number">223243244244343L</span>;</span><br><span class="line">        Person person2 = <span class="keyword">new</span> Person();</span><br><span class="line">        person2.name = <span class="string">&quot;李四&quot;</span>;</span><br><span class="line">        IdCard idCard3 = <span class="keyword">new</span> IdCard();</span><br><span class="line">        idCard3.cardNo = <span class="number">223243244243243L</span>;</span><br><span class="line">        Person person3 = <span class="keyword">new</span> Person();</span><br><span class="line">        person3.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">        Map map = <span class="keyword">new</span> HashMap();</span><br><span class="line">        map.put(idCard1, person1);</span><br><span class="line">        map.put(idCard2, person2);</span><br><span class="line">        map.put(idCard3, person3);</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter = map.entrySet().iterator(); iter.hasNext(); ) &#123;</span><br><span class="line">            Map.Entry entry = (Map.Entry) iter.next();</span><br><span class="line">            IdCard idCard = (IdCard) entry.getKey();</span><br><span class="line">            Person person = (Person) entry.getValue();</span><br><span class="line">            <span class="comment">//使用 entryset和getValue取出值</span></span><br><span class="line">            System.out.println(idCard.cardNo + <span class="string">&quot;, &quot;</span> + person.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IdCard</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> cardNo;</span><br><span class="line">    <span class="comment">//重写equals方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">boolean</span> equals方法(Object obj) &#123;</span><br><span class="line">        <span class="keyword">if</span> (obj == <span class="keyword">this</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> IdCard) &#123;</span><br><span class="line">            IdCard idCard = (IdCard)obj;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.cardNo == idCard.cardNo) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="comment">//重写hashCode方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Long(cardNo).hashCode();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="输出-15"><a href="#输出-15" class="headerlink" title="输出"></a>输出</h5><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730181859.png" alt=""></p><p>没有加入重复的数据，因为覆盖了 equals 和 hashCode 方法</p><h2 id="TreeMap"><a href="#TreeMap" class="headerlink" title="TreeMap"></a><code>TreeMap</code></h2><div class="note info no-icon flat"><ul><li>TreeMap实现了NavigableMap接⼝，⽽NavigableMap接⼝继承着SortedMap接⼝，致使我们的</li><li>TreeMap是有序的！</li><li>TreeMap底层是红⿊树，它⽅法的时间复杂度都不会太⾼:log(n)</li><li>⾮同步</li><li>使⽤Comparator或者Comparable来⽐较key是否相等与排序的问题</li></ul></div><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730194725.png" alt=""></p><h3 id="使用介绍-5"><a href="#使用介绍-5" class="headerlink" title="使用介绍"></a>使用介绍</h3><h4 id="构造方法-5"><a href="#构造方法-5" class="headerlink" title="构造方法"></a><font color="red"><code>构造方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730194902.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//使用键的自然顺序构造一个新的、空的树映射</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">TreeMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    comparator = <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//构造一个新的、空的树映射，该映射根据给定比较器进行排序</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">TreeMap</span><span class="params">(Comparator&lt;? <span class="keyword">super</span> K&gt; comparator)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.comparator = comparator;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造一个与给定映射具有相同映射关系的新的树映射，该映射根据其键的自然顺序 进行排序</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">TreeMap</span><span class="params">(Map&lt;? extends K, ? extends V&gt; m)</span> </span>&#123;</span><br><span class="line">    comparator = <span class="keyword">null</span>;</span><br><span class="line">    putAll(m);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//构造一个与指定有序映射具有相同映射关系和相同排序顺序的新的树映射</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">TreeMap</span><span class="params">(SortedMap&lt;K, ? extends V&gt; m)</span> </span>&#123;</span><br><span class="line">    comparator = m.comparator();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        buildFromSorted(m.size(), m.entrySet().iterator(), <span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (java.io.IOException | ClassNotFoundException cannotHappen) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="get方法-3"><a href="#get方法-3" class="headerlink" title="get方法"></a><font color="red"><code>get方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730195344.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">get</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">    Entry&lt;K,V&gt; p = getEntry(key);</span><br><span class="line">    <span class="keyword">return</span> (p==<span class="keyword">null</span> ? <span class="keyword">null</span> : p.value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">final</span> Entry&lt;K,V&gt; <span class="title">getEntry</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Offload comparator-based version for sake of performance</span></span><br><span class="line">        <span class="keyword">if</span> (comparator != <span class="keyword">null</span>)</span><br><span class="line">          <span class="comment">//如果comparator为空</span></span><br><span class="line">            <span class="keyword">return</span> getEntryUsingComparator(key);</span><br><span class="line">        <span class="keyword">if</span> (key == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException();</span><br><span class="line">        <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">            Comparable&lt;? <span class="keyword">super</span> K&gt; k = (Comparable&lt;? <span class="keyword">super</span> K&gt;) key;</span><br><span class="line">        Entry&lt;K,V&gt; p = root;</span><br><span class="line">        <span class="keyword">while</span> (p != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> cmp = k.compareTo(p.key);</span><br><span class="line">          <span class="comment">//使用compareTo方法</span></span><br><span class="line">            <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>)</span><br><span class="line">                p = p.left;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>)</span><br><span class="line">                p = p.right;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> p;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="put方法-1"><a href="#put方法-1" class="headerlink" title="put方法"></a><font color="red"><code>put方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730195757.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//用t表示二叉树的当前节点</span></span><br><span class="line">        Entry&lt;K, V&gt; t = root;</span><br><span class="line">        <span class="comment">//t为null表示一个空树，即TreeMap中没有任何元素，直接插入</span></span><br><span class="line">        <span class="keyword">if</span> (t == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="comment">//比较key值，个人觉得这句代码没有任何意义，空树还需要比较、排序？</span></span><br><span class="line">            compare(key, key); <span class="comment">// type (and possibly null) check</span></span><br><span class="line">        <span class="comment">//将新的key-value键值对创建为一个Entry节点，并将该节点赋予给root</span></span><br><span class="line">            root = <span class="keyword">new</span> Entry&lt;&gt;(key, value, <span class="keyword">null</span>);</span><br><span class="line">        <span class="comment">//容器的size = 1，表示TreeMap集合中存在一个元素</span></span><br><span class="line">            size = <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//修改次数 + 1</span></span><br><span class="line">            modCount++;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> cmp; </span><br><span class="line">        <span class="comment">//cmp表示key排序的返回结果</span></span><br><span class="line">        Entry&lt;K, V&gt; parent; <span class="comment">//父节点</span></span><br><span class="line">        <span class="comment">// split comparator and comparable paths</span></span><br><span class="line">        Comparator&lt;? <span class="keyword">super</span> K&gt; cpr = comparator; <span class="comment">//指定的排序算法</span></span><br><span class="line">        <span class="comment">//如果cpr不为空，则采用既定的排序算法进行创建TreeMap集合</span></span><br><span class="line">        <span class="keyword">if</span> (cpr != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">do</span> &#123;</span><br><span class="line">                parent = t; <span class="comment">//parent指向上次循环后的t</span></span><br><span class="line">        <span class="comment">//比较新增节点的key和当前节点key的大小</span></span><br><span class="line">                cmp = cpr.compare(key, t.key);</span><br><span class="line">        <span class="comment">//cmp返回值小于0，表示新增节点的key小于当前节点的key，则以当前节点的左子节点作为新的当前节点</span></span><br><span class="line">                <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>)</span><br><span class="line">                    t = t.left;</span><br><span class="line">       <span class="comment">//cmp返回值大于0，表示新增节点的key大于当前节点的key，则以当前节点的右子节点作为新的当前节点</span></span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>)</span><br><span class="line">                    t = t.right;</span><br><span class="line">      <span class="comment">//cmp返回值等于0，表示两个key值相等，则新值覆盖旧值，并返回新值</span></span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">return</span> t.setValue(value);</span><br><span class="line">            &#125; <span class="keyword">while</span> (t != <span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      <span class="comment">//如果cpr为空，则采用默认的排序算法进行创建TreeMap集合</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (key == <span class="keyword">null</span>) <span class="comment">//key值为空抛出异常</span></span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException();</span><br><span class="line"></span><br><span class="line">            Comparable&lt;? <span class="keyword">super</span> K&gt; k = (Comparable&lt;? <span class="keyword">super</span> K&gt;) key;</span><br><span class="line">            <span class="keyword">do</span> &#123;</span><br><span class="line">                parent = t;</span><br><span class="line">                cmp = k.compareTo(t.key);</span><br><span class="line">                <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>)</span><br><span class="line">                    t = t.left;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>)</span><br><span class="line">                    t = t.right;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">return</span> t.setValue(value);</span><br><span class="line">            &#125; <span class="keyword">while</span> (t != <span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="comment">//将新增节点当做parent的子节点</span></span><br><span class="line">        Entry&lt;K, V&gt; e = <span class="keyword">new</span> Entry&lt;&gt;(key, value, parent);</span><br><span class="line">       <span class="comment">//如果新增节点的key小于parent的key，则当做左子节点</span></span><br><span class="line">        <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>)</span><br><span class="line">            parent.left = e;</span><br><span class="line">        <span class="comment">//如果新增节点的key大于parent的key，则当做右子节点</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            parent.right = e;</span><br><span class="line">        fixAfterInsertion(e);</span><br><span class="line">       <span class="comment">//TreeMap元素数量 + 1</span></span><br><span class="line">        size++;</span><br><span class="line">       <span class="comment">//TreeMap容器修改次数 + 1</span></span><br><span class="line">        modCount++;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="remove方法-5"><a href="#remove方法-5" class="headerlink" title="remove方法"></a><font color="red"><code>remove方法</code></font></h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730200445.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">remove</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">    Entry&lt;K,V&gt; p = getEntry(key);</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    V oldValue = p.value;</span><br><span class="line">    deleteEntry(p);</span><br><span class="line">    <span class="keyword">return</span> oldValue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">deleteEntry</span><span class="params">(Entry&lt;K,V&gt; p)</span> </span>&#123;</span><br><span class="line">        modCount++;</span><br><span class="line">        size--;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// If strictly internal, copy successor&#x27;s element to p and then make p</span></span><br><span class="line">        <span class="comment">// point to successor.</span></span><br><span class="line">        <span class="keyword">if</span> (p.left != <span class="keyword">null</span> &amp;&amp; p.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            Entry&lt;K,V&gt; s = successor(p);</span><br><span class="line">            p.key = s.key;</span><br><span class="line">            p.value = s.value;</span><br><span class="line">            p = s;</span><br><span class="line">        &#125; <span class="comment">// p has 2 children</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Start fixup at replacement node, if it exists.</span></span><br><span class="line">        Entry&lt;K,V&gt; replacement = (p.left != <span class="keyword">null</span> ? p.left : p.right);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (replacement != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// Link replacement to parent</span></span><br><span class="line">            replacement.parent = p.parent;</span><br><span class="line">            <span class="keyword">if</span> (p.parent == <span class="keyword">null</span>)</span><br><span class="line">                root = replacement;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (p == p.parent.left)</span><br><span class="line">                p.parent.left  = replacement;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                p.parent.right = replacement;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Null out links so they are OK to use by fixAfterDeletion.</span></span><br><span class="line">            p.left = p.right = p.parent = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Fix replacement</span></span><br><span class="line">            <span class="keyword">if</span> (p.color == BLACK)</span><br><span class="line">                fixAfterDeletion(replacement);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (p.parent == <span class="keyword">null</span>) &#123; <span class="comment">// return if we are the only node.</span></span><br><span class="line">            root = <span class="keyword">null</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">//  No children. Use self as phantom replacement and unlink.</span></span><br><span class="line">            <span class="keyword">if</span> (p.color == BLACK)</span><br><span class="line">                fixAfterDeletion(p);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (p.parent != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (p == p.parent.left)</span><br><span class="line">                    p.parent.left = <span class="keyword">null</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (p == p.parent.right)</span><br><span class="line">                    p.parent.right = <span class="keyword">null</span>;</span><br><span class="line">                p.parent = <span class="keyword">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="常用方法演示-5"><a href="#常用方法演示-5" class="headerlink" title="常用方法演示"></a>常用方法演示</h3><h4 id="基本方法-1"><a href="#基本方法-1" class="headerlink" title="基本方法"></a>基本方法</h4><h5 id="代码-11"><a href="#代码-11" class="headerlink" title="代码"></a>代码</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeMapText</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Map map = <span class="keyword">new</span> TreeMap();</span><br><span class="line">        map.put(<span class="string">&quot;1003&quot;</span>, <span class="string">&quot;王五&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;1001&quot;</span>, <span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;1002&quot;</span>, <span class="string">&quot;李四&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter = map.entrySet().iterator(); iter.hasNext(); ) &#123;</span><br><span class="line">            Map.Entry entry = (Map.Entry) iter.next();</span><br><span class="line">            System.out.println(entry.getKey() + <span class="string">&quot;, &quot;</span> + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="输出-16"><a href="#输出-16" class="headerlink" title="输出"></a>输出</h5><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730200752.png" alt=""></p><h4 id="实现-Comparable-接口完成排序-1"><a href="#实现-Comparable-接口完成排序-1" class="headerlink" title="实现 Comparable 接口完成排序"></a><strong>实现</strong> <strong>Comparable</strong> <strong>接口完成排序</strong></h4><h5 id="代码-12"><a href="#代码-12" class="headerlink" title="代码"></a>代码</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeMapText02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        IdCard p1 = <span class="keyword">new</span> IdCard(<span class="number">1234</span>);</span><br><span class="line">        IdCard p2 = <span class="keyword">new</span> IdCard(<span class="number">1235</span>);</span><br><span class="line">        IdCard p3 = <span class="keyword">new</span> IdCard(<span class="number">1236</span>);</span><br><span class="line">        TreeMap map = <span class="keyword">new</span> TreeMap();</span><br><span class="line">        map.put(p1, <span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        map.put(p2, <span class="string">&quot;李四&quot;</span>);</span><br><span class="line">        map.put(p3, <span class="string">&quot;王五&quot;</span>);</span><br><span class="line">        Set st1 = map.keySet();</span><br><span class="line">        <span class="keyword">for</span> (Object o : st1) &#123;</span><br><span class="line">            IdCard p = (IdCard) o;</span><br><span class="line">            System.out.println(p.idCard + <span class="string">&quot;,&quot;</span> + map.get(o));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IdCard</span> <span class="keyword">implements</span> <span class="title">Comparable</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> idCard;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IdCard</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IdCard</span><span class="params">(<span class="keyword">int</span> idCard)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.idCard = idCard;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">idCard</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> idCard;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (o <span class="keyword">instanceof</span> IdCard) &#123;</span><br><span class="line">            IdCard p = (IdCard) o;</span><br><span class="line">            <span class="comment">//升序</span></span><br><span class="line">            <span class="comment">//return (this.age - p.age);</span></span><br><span class="line">            <span class="comment">// 降序</span></span><br><span class="line">            <span class="keyword">return</span> (p.idCard - <span class="keyword">this</span>.idCard);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;非法参数，o=&quot;</span> + o);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="输出-17"><a href="#输出-17" class="headerlink" title="输出"></a>输出</h5><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730215720.png" alt=""></p><h4 id="实现-Comparator-接口完成排序-1"><a href="#实现-Comparator-接口完成排序-1" class="headerlink" title="实现 Comparator 接口完成排序"></a><strong>实现</strong> <strong>Comparator</strong> <strong>接口完成排序</strong></h4><h5 id="代码-13"><a href="#代码-13" class="headerlink" title="代码"></a>代码</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeMapText02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        IdCard p1 = <span class="keyword">new</span> IdCard(<span class="number">1234</span>);</span><br><span class="line">        IdCard p2 = <span class="keyword">new</span> IdCard(<span class="number">1235</span>);</span><br><span class="line">        IdCard p3 = <span class="keyword">new</span> IdCard(<span class="number">1236</span>);</span><br><span class="line">        Comparator comp = <span class="keyword">new</span> IdCard();</span><br><span class="line">        TreeMap&lt;IdCard, String&gt; map = <span class="keyword">new</span> TreeMap&lt;IdCard, String&gt;(comp);</span><br><span class="line">        map.put(p1, <span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        map.put(p2, <span class="string">&quot;李四&quot;</span>);</span><br><span class="line">        map.put(p3, <span class="string">&quot;王五&quot;</span>);</span><br><span class="line">        Set st1 = map.keySet();</span><br><span class="line">        <span class="keyword">for</span> (Object o : st1) &#123;</span><br><span class="line">            IdCard p = (IdCard) o;</span><br><span class="line">            System.out.println(p.idCard + <span class="string">&quot;,&quot;</span> + map.get(o));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IdCard</span> <span class="keyword">implements</span> <span class="title">Comparator</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> idCard;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IdCard</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IdCard</span><span class="params">(<span class="keyword">int</span> idCard)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.idCard = idCard;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">idCard</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> idCard;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!(o1 <span class="keyword">instanceof</span> IdCard)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;非法参数，o1=&quot;</span> + o1);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!(o2 <span class="keyword">instanceof</span> IdCard)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;非法参数，o2=&quot;</span> + o2);</span><br><span class="line">        &#125;</span><br><span class="line">        IdCard p1 = (IdCard) o1;</span><br><span class="line">        IdCard p2 = (IdCard) o2;</span><br><span class="line">        <span class="comment">//降序</span></span><br><span class="line">        <span class="keyword">return</span> p2.idCard() - p1.idCard();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="输出-18"><a href="#输出-18" class="headerlink" title="输出"></a>输出</h5><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730215457.png" alt=""></p><h1 id="Collections工具类"><a href="#Collections工具类" class="headerlink" title="Collections工具类"></a><code>Collections</code>工具类</h1><div class="note info no-icon flat"><ul><li>Collection<strong>s</strong> 位于 java.util 包中，提供了一系列实用的方法，如：对集合排序，对集合中的内容查找等</li></ul></div><h2 id="常用方法演示-6"><a href="#常用方法演示-6" class="headerlink" title="常用方法演示"></a>常用方法演示</h2><h3 id="对List集合进行排序"><a href="#对List集合进行排序" class="headerlink" title="对List集合进行排序"></a>对List集合进行排序</h3><h4 id="代码-14"><a href="#代码-14" class="headerlink" title="代码"></a>代码</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionsTest01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List l = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        l.add(<span class="number">5</span>);</span><br><span class="line">        l.add(<span class="number">1</span>);</span><br><span class="line">        l.add(<span class="number">4</span>);</span><br><span class="line">        l.add(<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter = l.iterator(); iter.hasNext(); ) &#123;</span><br><span class="line">            System.out.println(iter.next());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;排序后------&quot;</span>);</span><br><span class="line">        <span class="comment">//排序</span></span><br><span class="line">        Collections.sort(l);</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter = l.iterator(); iter.hasNext(); ) &#123;</span><br><span class="line">            System.out.println(iter.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="输出-19"><a href="#输出-19" class="headerlink" title="输出"></a>输出</h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730220834.png" alt=""></p><h3 id="对Set集合进行排序-1"><a href="#对Set集合进行排序-1" class="headerlink" title="对Set集合进行排序"></a>对Set集合进行排序</h3><h4 id="代码-15"><a href="#代码-15" class="headerlink" title="代码"></a>代码</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionsTest02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Set set = <span class="keyword">new</span> HashSet();</span><br><span class="line">        set.add(<span class="number">1</span>);</span><br><span class="line">        set.add(<span class="number">4</span>);</span><br><span class="line">        set.add(<span class="number">2</span>);</span><br><span class="line">        set.add(<span class="number">7</span>);</span><br><span class="line">        set.add(<span class="number">3</span>);</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter = set.iterator(); iter.hasNext();) &#123;</span><br><span class="line">            System.out.println(iter.next());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;排序后--------&quot;</span>);</span><br><span class="line">        <span class="comment">//不能直接对 set 排序</span></span><br><span class="line">        <span class="comment">//Collections.sort(set);</span></span><br><span class="line">        <span class="comment">//先存入list集合</span></span><br><span class="line">        List setList = <span class="keyword">new</span> ArrayList(set);</span><br><span class="line">        Collections.sort(setList);</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter=setList.iterator(); iter.hasNext();) &#123;</span><br><span class="line">            System.out.println(iter.next());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="输出-20"><a href="#输出-20" class="headerlink" title="输出"></a>输出</h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730221452.png" alt=""></p><p>排序前后排序后的输出结果是一样，那是因为HashSet是无序的，即存进去和取出来的顺序不一样。</p><h3 id="对集合中的元素进行反转"><a href="#对集合中的元素进行反转" class="headerlink" title="对集合中的元素进行反转"></a>对集合中的元素进行反转</h3><h4 id="代码-16"><a href="#代码-16" class="headerlink" title="代码"></a>代码</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionsTest02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Set set = <span class="keyword">new</span> HashSet();</span><br><span class="line">        set.add(<span class="number">1</span>);</span><br><span class="line">        set.add(<span class="number">4</span>);</span><br><span class="line">        set.add(<span class="number">2</span>);</span><br><span class="line">        set.add(<span class="number">7</span>);</span><br><span class="line">        set.add(<span class="number">3</span>);</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter = set.iterator(); iter.hasNext();) &#123;</span><br><span class="line">            System.out.println(iter.next());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;排序后--------&quot;</span>);</span><br><span class="line">        <span class="comment">//不能直接对 set 排序</span></span><br><span class="line">        <span class="comment">//Collections.sort(set);</span></span><br><span class="line">        <span class="comment">//先存入list集合</span></span><br><span class="line">        List setList = <span class="keyword">new</span> ArrayList(set);</span><br><span class="line">        Collections.sort(setList);</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter=setList.iterator(); iter.hasNext();) &#123;</span><br><span class="line">            System.out.println(iter.next());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//对集合中的元素进行反转</span></span><br><span class="line">        System.out.println(<span class="string">&quot;反转后--------&quot;</span>);</span><br><span class="line">        Collections.reverse(setList);</span><br><span class="line">        <span class="keyword">for</span>(Iterator iter = setList.iterator();iter.hasNext();)&#123;</span><br><span class="line">            System.out.println(iter.next());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="输出-21"><a href="#输出-21" class="headerlink" title="输出"></a>输出</h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730222203.png" alt=""></p><h3 id="根据元素值查找下标"><a href="#根据元素值查找下标" class="headerlink" title="根据元素值查找下标"></a>根据元素值查找下标</h3><h4 id="代码-17"><a href="#代码-17" class="headerlink" title="代码"></a>代码</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionsTest02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Set set = <span class="keyword">new</span> HashSet();</span><br><span class="line">        set.add(<span class="number">1</span>);</span><br><span class="line">        set.add(<span class="number">4</span>);</span><br><span class="line">        set.add(<span class="number">2</span>);</span><br><span class="line">        set.add(<span class="number">7</span>);</span><br><span class="line">        set.add(<span class="number">3</span>);</span><br><span class="line">        <span class="keyword">for</span> (Iterator iter = set.iterator(); iter.hasNext();) &#123;</span><br><span class="line">            System.out.println(iter.next());</span><br><span class="line">        &#125;</span><br><span class="line">        List setList = <span class="keyword">new</span> ArrayList(set);</span><br><span class="line">        <span class="comment">//查找元素的下标</span></span><br><span class="line">        <span class="keyword">int</span> index = Collections.binarySearch(setList, <span class="number">7</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;下标为：&quot;</span>+index);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="输出-22"><a href="#输出-22" class="headerlink" title="输出"></a>输出</h4><p><img src="/img/loading.gif" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200730222647.png" alt=""></p></article><div class="post-tools"><div class="post-tools-left"><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><ul class="reward-group"><li class="reward-item"><a href="/img/wechat.png" target="_blank"><img class="post-qr-code-img" data-lazy-src="/img/wechat.png" alt="微信"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.png" target="_blank"><img class="post-qr-code-img" data-lazy-src="/img/alipay.png" alt="支付宝"></a><div class="post-qr-code-desc">支付宝</div></li></ul></ul></div></div><div class="post_share"><div class="social-share" data-image="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/2756FC8B8EA85E6EFD9121EDE2A98F9D.jpg" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Java/">#Java</a><a class="post-meta__tags" href="/tags/%E9%9B%86%E5%90%88/">#集合</a></div></div></div></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="mailto:3040705657@qq.com">Just</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://blog.just-null.cn/posts/java_list.html">https://blog.just-null.cn/posts/java_list.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.just-null.cn" target="_blank">Just</a>！</span></div></div></div><div id="pagination-con"><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/database_link.html"><img class="prev-cover" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200808172909.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">数据库连接池</div></div></a></div><div class="next-post pull-right"><a href="/posts/Jdbc_study.html"><img class="next-cover" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200808145912.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">JDBC编程</div></div></a></div></nav></div><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i> <span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/java_es.html" title="Java操作ElasticSearch"><img class="cover" data-lazy-src="https://cdn.jsdelivr.net/gh/Just-null/blog_imgs@v3.3/java_es.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-22</div><div class="title">Java操作ElasticSearch</div></div></a></div><div><a href="/posts/coupling.html" title="程序的耦合和解耦"><img class="cover" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img/image-20200823164347582.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-23</div><div class="title">程序的耦合和解耦</div></div></a></div><div><a href="/posts/java_proxy.html" title="动态代理"><img class="cover" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200805153733.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-09</div><div class="title">动态代理</div></div></a></div><div><a href="/posts/java_re.html" title="Java反射"><img class="cover" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200804211325.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-08</div><div class="title">Java反射</div></div></a></div><div><a href="/posts/Maven_study.html" title="Maven"><img class="cover" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img/8626021bd.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-03</div><div class="title">Maven</div></div></a></div><div><a href="/posts/beanutils_to.html" title="BeanUtils工具类"><img class="cover" data-lazy-src="https://gitee.com/Just-null/blogimgs/raw/master/img_mac/20200808192455.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-06-18</div><div class="title">BeanUtils工具类</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" data-lazy-src="/img/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"><div class="author-info__name">Just</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">164</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">125</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">102</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Just-null"><i class="fab fa-github"></i><span>Issue</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://space.bilibili.com/352834955" target="_blank"><i class="iconfont icon-bilibili"></i></a><a class="social-icon" href="/3040705657@qq.com" target="_blank"><i class="iconfont icon-email"></i></a><a class="social-icon" href="https://github.com/Just-null" target="_blank"><i class="iconfont icon-github"></i></a><a class="social-icon" href="https://gitee.com/Just-null" target="_blank"><i class="iconfont icon-gitee"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">1.编程语言迭代速度很快，本博客有些文章中的技术在现在来说可能已经过时，请读者注意</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%95%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">引言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%9B%86%E5%90%88"><span class="toc-number">2.</span> <span class="toc-text">什么是集合</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E5%92%8C%E6%95%B0%E7%BB%84%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.</span> <span class="toc-text">集合和数组的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Collection-%E5%92%8C-Iterator"><span class="toc-number">4.</span> <span class="toc-text">Collection 和 Iterator</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Collection"><span class="toc-number">4.1.</span> <span class="toc-text">Collection</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E5%9B%BE"><span class="toc-number">4.1.1.</span> <span class="toc-text">继承图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.2.</span> <span class="toc-text">主要方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Iterator"><span class="toc-number">4.2.</span> <span class="toc-text">Iterator</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E6%96%B9%E6%B3%95-1"><span class="toc-number">4.2.1.</span> <span class="toc-text">主要方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#List%E6%8E%A5%E5%8F%A3"><span class="toc-number">5.</span> <span class="toc-text">List接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">5.1.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E2%BD%A4%E2%BC%A6%E7%B1%BB"><span class="toc-number">5.2.</span> <span class="toc-text">常⽤⼦类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number">5.3.</span> <span class="toc-text">方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ArrayList%E8%A7%A3%E6%9E%90"><span class="toc-number">5.4.</span> <span class="toc-text">ArrayList解析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D"><span class="toc-number">5.4.1.</span> <span class="toc-text">使用介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-number">5.4.1.1.</span> <span class="toc-text">构造方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Add%E6%96%B9%E6%B3%95"><span class="toc-number">5.4.1.2.</span> <span class="toc-text">Add方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#add-E-e"><span class="toc-number">5.4.1.2.1.</span> <span class="toc-text">add(E e)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#grow"><span class="toc-number">5.4.1.2.1.1.</span> <span class="toc-text">grow()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#copyOf"><span class="toc-number">5.4.1.2.1.2.</span> <span class="toc-text">copyOf()</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#add-int-index-E-element"><span class="toc-number">5.4.1.2.2.</span> <span class="toc-text">add(int index, E element)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#get%E6%96%B9%E6%B3%95"><span class="toc-number">5.4.1.3.</span> <span class="toc-text">get方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set%E6%96%B9%E6%B3%95"><span class="toc-number">5.4.1.4.</span> <span class="toc-text">set方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#remove%E6%96%B9%E6%B3%95"><span class="toc-number">5.4.1.5.</span> <span class="toc-text">remove方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81"><span class="toc-number">5.4.2.</span> <span class="toc-text">代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%BC%94%E7%A4%BA"><span class="toc-number">5.4.2.1.</span> <span class="toc-text">常用方法演示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA"><span class="toc-number">5.4.2.2.</span> <span class="toc-text">输出</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LinkedList%E8%A7%A3%E6%9E%90"><span class="toc-number">5.5.</span> <span class="toc-text">LinkedList解析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D-1"><span class="toc-number">5.5.1.</span> <span class="toc-text">使用介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-1"><span class="toc-number">5.5.1.1.</span> <span class="toc-text">构造方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Add%E6%96%B9%E6%B3%95-1"><span class="toc-number">5.5.1.2.</span> <span class="toc-text">Add方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#add-E-e-1"><span class="toc-number">5.5.1.2.1.</span> <span class="toc-text">add(E e)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#remove%E6%96%B9%E6%B3%95-1"><span class="toc-number">5.5.1.3.</span> <span class="toc-text">remove方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#get%E6%96%B9%E6%B3%95-1"><span class="toc-number">5.5.1.4.</span> <span class="toc-text">get方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set%E6%96%B9%E6%B3%95-1"><span class="toc-number">5.5.1.5.</span> <span class="toc-text">set方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-1"><span class="toc-number">5.5.2.</span> <span class="toc-text">代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%BC%94%E7%A4%BA-1"><span class="toc-number">5.5.2.1.</span> <span class="toc-text">常用方法演示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-1"><span class="toc-number">5.5.2.2.</span> <span class="toc-text">输出</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#List%E6%8E%A5%E5%8F%A3%E6%80%BB%E7%BB%93"><span class="toc-number">5.6.</span> <span class="toc-text">List接口总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ArrayList%EF%BC%9A"><span class="toc-number">5.6.1.</span> <span class="toc-text">ArrayList：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LinkedList%EF%BC%9A"><span class="toc-number">5.6.2.</span> <span class="toc-text">LinkedList：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vector%EF%BC%9A"><span class="toc-number">5.6.3.</span> <span class="toc-text">Vector：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Set%E6%8E%A5%E5%8F%A3"><span class="toc-number">6.</span> <span class="toc-text">Set接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E7%82%B9-1"><span class="toc-number">6.1.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E2%BD%A4%E2%BC%A6%E7%B1%BB-1"><span class="toc-number">6.2.</span> <span class="toc-text">常⽤⼦类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95-1"><span class="toc-number">6.3.</span> <span class="toc-text">方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E8%A1%A8"><span class="toc-number">6.4.</span> <span class="toc-text">哈希表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HashSet"><span class="toc-number">6.5.</span> <span class="toc-text">HashSet</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D-2"><span class="toc-number">6.5.1.</span> <span class="toc-text">使用介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-2"><span class="toc-number">6.5.1.1.</span> <span class="toc-text">构造方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Add%E6%96%B9%E6%B3%95-2"><span class="toc-number">6.5.1.2.</span> <span class="toc-text">Add方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#remove%E6%96%B9%E6%B3%95-2"><span class="toc-number">6.5.1.3.</span> <span class="toc-text">remove方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-2"><span class="toc-number">6.5.2.</span> <span class="toc-text">代码</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%BC%94%E7%A4%BA-2"><span class="toc-number">6.5.2.0.1.</span> <span class="toc-text">常用方法演示</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-2"><span class="toc-number">6.5.2.0.2.</span> <span class="toc-text">输出</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#equals%E5%92%8ChashCode"><span class="toc-number">6.6.</span> <span class="toc-text">equals和hashCode</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#equals%E4%BA%8Ehashcode%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">6.6.1.</span> <span class="toc-text">equals于hashcode的关系</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA"><span class="toc-number">6.6.1.1.</span> <span class="toc-text">演示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-3"><span class="toc-number">6.6.1.2.</span> <span class="toc-text">输出</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E4%BA%8E%E9%87%8D%E5%A4%8D%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A4%84%E7%90%86"><span class="toc-number">6.6.2.</span> <span class="toc-text">对于重复数据的处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-1"><span class="toc-number">6.6.2.1.</span> <span class="toc-text">演示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-4"><span class="toc-number">6.6.2.2.</span> <span class="toc-text">输出</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%86%99equals%E6%96%B9%E6%B3%95"><span class="toc-number">6.6.3.</span> <span class="toc-text">重写equals方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-2"><span class="toc-number">6.6.3.1.</span> <span class="toc-text">演示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-5"><span class="toc-number">6.6.3.2.</span> <span class="toc-text">输出</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%86%99HashCode%E6%96%B9%E6%B3%95"><span class="toc-number">6.6.4.</span> <span class="toc-text">重写HashCode方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-3"><span class="toc-number">6.6.4.1.</span> <span class="toc-text">演示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-6"><span class="toc-number">6.6.4.2.</span> <span class="toc-text">输出</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A6%86%E7%9B%96-equals%E5%92%8ChashCode%E6%96%B9%E6%B3%95"><span class="toc-number">6.6.5.</span> <span class="toc-text">覆盖 equals和hashCode方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-4"><span class="toc-number">6.6.5.1.</span> <span class="toc-text">演示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-7"><span class="toc-number">6.6.5.2.</span> <span class="toc-text">输出</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">6.6.6.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TreeSet"><span class="toc-number">6.7.</span> <span class="toc-text">TreeSet</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D-3"><span class="toc-number">6.7.1.</span> <span class="toc-text">使用介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-3"><span class="toc-number">6.7.1.1.</span> <span class="toc-text">构造方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Add%E6%96%B9%E6%B3%95-3"><span class="toc-number">6.7.1.2.</span> <span class="toc-text">Add方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#remove%E6%96%B9%E6%B3%95-3"><span class="toc-number">6.7.1.3.</span> <span class="toc-text">remove方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F"><span class="toc-number">6.7.2.</span> <span class="toc-text">排序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%BC%94%E7%A4%BA-3"><span class="toc-number">6.7.2.1.</span> <span class="toc-text">常用方法演示</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9Set%E9%9B%86%E5%90%88%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F"><span class="toc-number">6.7.2.1.1.</span> <span class="toc-text">对Set集合进行排序</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-3"><span class="toc-number">6.7.2.1.1.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-8"><span class="toc-number">6.7.2.1.1.2.</span> <span class="toc-text">输出</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E5%AF%B9%E8%B1%A1%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F"><span class="toc-number">6.7.2.1.2.</span> <span class="toc-text">对对象进行排序</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-4"><span class="toc-number">6.7.2.1.2.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-9"><span class="toc-number">6.7.2.1.2.2.</span> <span class="toc-text">输出</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0-Comparable-%E6%8E%A5%E5%8F%A3%E5%AE%8C%E6%88%90%E6%8E%92%E5%BA%8F"><span class="toc-number">6.7.2.1.3.</span> <span class="toc-text">实现 Comparable 接口完成排序</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-5"><span class="toc-number">6.7.2.1.3.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-10"><span class="toc-number">6.7.2.1.3.2.</span> <span class="toc-text">输出</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0-Comparator-%E6%8E%A5%E5%8F%A3%E5%AE%8C%E6%88%90%E6%8E%92%E5%BA%8F"><span class="toc-number">6.7.2.1.4.</span> <span class="toc-text">实现 Comparator 接口完成排序</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-6"><span class="toc-number">6.7.2.1.4.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-11"><span class="toc-number">6.7.2.1.4.2.</span> <span class="toc-text">输出</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%87%E7%94%A8%E5%8C%BF%E5%90%8D%E7%B1%BB%E5%AE%8C%E6%88%90-Comparator-%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">6.7.2.1.5.</span> <span class="toc-text">采用匿名类完成 Comparator 的实现</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-7"><span class="toc-number">6.7.2.1.5.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-12"><span class="toc-number">6.7.2.1.5.2.</span> <span class="toc-text">输出</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Comparable-%E5%92%8C-Comparator-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">6.7.3.</span> <span class="toc-text">Comparable 和 Comparator 的区别</span></a></li></ol></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#Map%E6%8E%A5%E5%8F%A3"><span class="toc-number">7.</span> <span class="toc-text">Map接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E7%82%B9-2"><span class="toc-number">7.1.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%AD%90%E7%B1%BB"><span class="toc-number">7.2.</span> <span class="toc-text">常用子类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95-2"><span class="toc-number">7.3.</span> <span class="toc-text">方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HashMap"><span class="toc-number">7.4.</span> <span class="toc-text">HashMap</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D-4"><span class="toc-number">7.4.1.</span> <span class="toc-text">使用介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-4"><span class="toc-number">7.4.1.1.</span> <span class="toc-text">构造方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#put%E6%96%B9%E6%B3%95"><span class="toc-number">7.4.1.2.</span> <span class="toc-text">put方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#get%E6%96%B9%E6%B3%95-2"><span class="toc-number">7.4.1.3.</span> <span class="toc-text">get方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#remove%E6%96%B9%E6%B3%95-4"><span class="toc-number">7.4.1.4.</span> <span class="toc-text">remove方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%BC%94%E7%A4%BA-4"><span class="toc-number">7.4.2.</span> <span class="toc-text">常用方法演示</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%96%B9%E6%B3%95"><span class="toc-number">7.4.2.1.</span> <span class="toc-text">基本方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-8"><span class="toc-number">7.4.2.1.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-13"><span class="toc-number">7.4.2.1.2.</span> <span class="toc-text">输出</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%87%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E4%BD%9C%E4%B8%BA-key"><span class="toc-number">7.4.2.2.</span> <span class="toc-text">采用自定义类作为 key</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-9"><span class="toc-number">7.4.2.2.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-14"><span class="toc-number">7.4.2.2.2.</span> <span class="toc-text">输出</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E5%86%99equals-%E5%92%8C-hashCode-%E6%96%B9%E6%B3%95"><span class="toc-number">7.4.2.3.</span> <span class="toc-text">重写equals 和 hashCode 方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-10"><span class="toc-number">7.4.2.3.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-15"><span class="toc-number">7.4.2.3.2.</span> <span class="toc-text">输出</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TreeMap"><span class="toc-number">7.5.</span> <span class="toc-text">TreeMap</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D-5"><span class="toc-number">7.5.1.</span> <span class="toc-text">使用介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-5"><span class="toc-number">7.5.1.1.</span> <span class="toc-text">构造方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#get%E6%96%B9%E6%B3%95-3"><span class="toc-number">7.5.1.2.</span> <span class="toc-text">get方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#put%E6%96%B9%E6%B3%95-1"><span class="toc-number">7.5.1.3.</span> <span class="toc-text">put方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#remove%E6%96%B9%E6%B3%95-5"><span class="toc-number">7.5.1.4.</span> <span class="toc-text">remove方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%BC%94%E7%A4%BA-5"><span class="toc-number">7.5.2.</span> <span class="toc-text">常用方法演示</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%96%B9%E6%B3%95-1"><span class="toc-number">7.5.2.1.</span> <span class="toc-text">基本方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-11"><span class="toc-number">7.5.2.1.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-16"><span class="toc-number">7.5.2.1.2.</span> <span class="toc-text">输出</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0-Comparable-%E6%8E%A5%E5%8F%A3%E5%AE%8C%E6%88%90%E6%8E%92%E5%BA%8F-1"><span class="toc-number">7.5.2.2.</span> <span class="toc-text">实现 Comparable 接口完成排序</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-12"><span class="toc-number">7.5.2.2.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-17"><span class="toc-number">7.5.2.2.2.</span> <span class="toc-text">输出</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0-Comparator-%E6%8E%A5%E5%8F%A3%E5%AE%8C%E6%88%90%E6%8E%92%E5%BA%8F-1"><span class="toc-number">7.5.2.3.</span> <span class="toc-text">实现 Comparator 接口完成排序</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-13"><span class="toc-number">7.5.2.3.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-18"><span class="toc-number">7.5.2.3.2.</span> <span class="toc-text">输出</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Collections%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-number">8.</span> <span class="toc-text">Collections工具类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%BC%94%E7%A4%BA-6"><span class="toc-number">8.1.</span> <span class="toc-text">常用方法演示</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9List%E9%9B%86%E5%90%88%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F"><span class="toc-number">8.1.1.</span> <span class="toc-text">对List集合进行排序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-14"><span class="toc-number">8.1.1.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-19"><span class="toc-number">8.1.1.2.</span> <span class="toc-text">输出</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9Set%E9%9B%86%E5%90%88%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F-1"><span class="toc-number">8.1.2.</span> <span class="toc-text">对Set集合进行排序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-15"><span class="toc-number">8.1.2.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-20"><span class="toc-number">8.1.2.2.</span> <span class="toc-text">输出</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E9%9B%86%E5%90%88%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0%E8%BF%9B%E8%A1%8C%E5%8F%8D%E8%BD%AC"><span class="toc-number">8.1.3.</span> <span class="toc-text">对集合中的元素进行反转</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-16"><span class="toc-number">8.1.3.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-21"><span class="toc-number">8.1.3.2.</span> <span class="toc-text">输出</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E5%85%83%E7%B4%A0%E5%80%BC%E6%9F%A5%E6%89%BE%E4%B8%8B%E6%A0%87"><span class="toc-number">8.1.4.</span> <span class="toc-text">根据元素值查找下标</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-17"><span class="toc-number">8.1.4.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-22"><span class="toc-number">8.1.4.2.</span> <span class="toc-text">输出</span></a></li></ol></li></ol></li></ol></li></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/todaystudy.html" title="今日校园信息自动提交（适配昆明学院）"><img data-lazy-src="https://cdn.jsdelivr.net/gh/Just-null/blog_imgs@v3.5/todaystudy.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="今日校园信息自动提交（适配昆明学院）"></a><div class="content"><a class="title" href="/posts/todaystudy.html" title="今日校园信息自动提交（适配昆明学院）">今日校园信息自动提交（适配昆明学院）</a><time datetime="2021-09-01T01:06:40.000Z" title="发表于 2021-09-01 09:06:40">2021-09-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/springboot_es.html" title="SpringBoot Data操作ElasticSearch"><img data-lazy-src="https://cdn.jsdelivr.net/gh/Just-null/blog_imgs@v3.3/springboot_es.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="SpringBoot Data操作ElasticSearch"></a><div class="content"><a class="title" href="/posts/springboot_es.html" title="SpringBoot Data操作ElasticSearch">SpringBoot Data操作ElasticSearch</a><time datetime="2021-07-23T02:25:40.000Z" title="发表于 2021-07-23 10:25:40">2021-07-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/java_es.html" title="Java操作ElasticSearch"><img data-lazy-src="https://cdn.jsdelivr.net/gh/Just-null/blog_imgs@v3.3/java_es.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Java操作ElasticSearch"></a><div class="content"><a class="title" href="/posts/java_es.html" title="Java操作ElasticSearch">Java操作ElasticSearch</a><time datetime="2021-07-22T02:25:40.000Z" title="发表于 2021-07-22 10:25:40">2021-07-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/ik_start.html" title="IK分词器的使用"><img data-lazy-src="https://cdn.jsdelivr.net/gh/Just-null/blog_imgs@v3.3/ik_start.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="IK分词器的使用"></a><div class="content"><a class="title" href="/posts/ik_start.html" title="IK分词器的使用">IK分词器的使用</a><time datetime="2021-07-21T02:25:40.000Z" title="发表于 2021-07-21 10:25:40">2021-07-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/es_query.html" title="ElasticSearch高级检索"><img data-lazy-src="https://cdn.jsdelivr.net/gh/Just-null/blog_imgs@v3.3/es_query.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="ElasticSearch高级检索"></a><div class="content"><a class="title" href="/posts/es_query.html" title="ElasticSearch高级检索">ElasticSearch高级检索</a><time datetime="2021-07-21T02:09:40.000Z" title="发表于 2021-07-21 10:09:40">2021-07-21</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(https://gitee.com/Just-null/blogimgs/raw/master/img_mac/2756FC8B8EA85E6EFD9121EDE2A98F9D.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Just</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi,welcome to my blog!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div></div><hr><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",preloader.endLoading())</script><div class="js-pjax"><script>document.getElementsByClassName("mermaid").length&&(window.mermaidJsLoad?mermaid.init():getScript("https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js").then(()=>{window.mermaidJsLoad=!0,mermaid.initialize({theme:"default"}),mermaid.init()}))</script><script>(()=>{const t=document.getElementById("twikoo-count"),o=()=>{let t={el:"#twikoo-wrap",envId:"https://twikoo-fa7b7o6a0-just-null.vercel.app/",region:"ap-shanghai"};twikoo.init(t)},e=()=>{twikoo.getCommentsCount({envId:"https://twikoo-fa7b7o6a0-just-null.vercel.app/",region:"ap-shanghai",urls:[window.location.pathname],includeReply:!1}).then((function(o){t.innerText=o[0].count})).catch((function(t){console.error(t)}))},n=(n=!1)=>{"object"==typeof twikoo?(o(),n&&t&&setTimeout(e,0)):getScript("https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(()=>{o(),n&&t&&setTimeout(e,0)})};btf.loadComment(document.getElementById("twikoo-wrap"),n)})()</script></div><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll(),"object"==typeof preloader&&preloader.endLoading()})),document.addEventListener("pjax:send",(function(){if("object"==typeof preloader&&preloader.initLoading(),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode")})),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script async>window.onload=function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src="/sw-register.js?v="+Date.now(),t.parentNode.insertBefore(e,t)}</script></body></html>